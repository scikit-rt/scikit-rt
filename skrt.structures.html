<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>skrt.structures module &mdash; Scikit-rt 0.1.3 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="voxtox" href="voxtox_modules.html" />
    <link rel="prev" title="skrt.simulation module" href="skrt.simulation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Scikit-rt
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Installation and usage:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">scikit-rt</a></li>
<li class="toctree-l1"><a class="reference internal" href="image_registration.html">Image registration with scikit-rt and elastix</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="skrt_modules.html">skrt</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="skrt.html">skrt package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="skrt.html#subpackages">Subpackages</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="skrt.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="skrt.application.html">skrt.application module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.core.html">skrt.core module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.dicom_writer.html">skrt.dicom_writer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.dose.html">skrt.dose module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.image.html">skrt.image module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.multi.html">skrt.multi module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.patient.html">skrt.patient module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.registration.html">skrt.registration module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.simulation.html">skrt.simulation module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">skrt.structures module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skrt.html#module-skrt">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="voxtox_modules.html">voxtox</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Scikit-rt</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="skrt_modules.html">skrt</a> &raquo;</li>
          <li><a href="skrt.html">skrt package</a> &raquo;</li>
      <li>skrt.structures module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/skrt.structures.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-skrt.structures">
<span id="skrt-structures-module"></span><h1>skrt.structures module<a class="headerlink" href="#module-skrt.structures" title="Permalink to this headline"></a></h1>
<p>Classes related to ROIs and structure sets.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skrt.structures.ROI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">ROI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_geom_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skrt.core.html#skrt.core.Archive" title="skrt.core.Archive"><code class="xref py py-class docutils literal notranslate"><span class="pre">skrt.core.Archive</span></code></a></p>
<p>Single region of interest (ROI).</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_geom_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Load ROI from mask or contour.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>source<span class="classifier">str/array/nifti, default=None</span></dt><dd><p>Source of image data to load. Can be either:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>The path to a nifti file containing a binary mask;</p></li>
<li><p>A numpy array containing a binary mask;</p></li>
<li><p>The path to a file containing a numpy array;</p></li>
<li><p>The path to a dicom structure set file.</p></li>
<li><p>Dictionary of contours in the x-y orientation, where the
keys are z positions in mm and values are lists of lists of
3D contour points in order (x, y, z) or 2D contour points in
order (x, y) on each slice.</p></li>
<li><p>Dictionary of shapely polygons in the x-y orientation,
where the keys are z positions in  mm and values are lists
of polygons on each slice.</p></li>
</ol>
</div></blockquote>
</dd>
<dt>name<span class="classifier">str, default=None</span></dt><dd><p>Name of the ROI. If &lt;source&gt; is a file and no name is given,
the name will be inferred from the filename.</p>
</dd>
<dt>color<span class="classifier">matplotlib color, default=None</span></dt><dd><p>Color in which this ROI will be plotted. If None, a color
will be assigned.</p>
</dd>
<dt>load<span class="classifier">bool, default=True</span></dt><dd><p>If True, contours/mask will be created during initialisation;
otherwise they will be created on-demand.</p>
</dd>
<dt>image<span class="classifier">Image/str, default=None</span></dt><dd><p>Associated image from which to extract shape and affine matrix.
Can either be an existing Image object, or a path from which
an Image can be created.</p>
</dd>
<dt>shape<span class="classifier">list, default=None</span></dt><dd><p>Number of voxels in the image to which the ROI belongs, in
order (x, y, z); needed to create mask if contours are provided
in &lt;source&gt; but no associated &lt;image&gt; is assigned.</p>
</dd>
<dt>affine<span class="classifier">np.ndarray, default=None</span></dt><dd><p>Affine matrix of the image to which the ROI belongs.
Needed to create mask if contours are provided
in &lt;source&gt; but no associated &lt;image&gt; is assigned, and no 
&lt;voxel_size&gt; and &lt;origin&gt; are given. If &lt;affine&gt; is given, it
supercedes the latter two arguments.</p>
</dd>
<dt>voxel_size<span class="classifier">tuple, default=(1, 1, 1)</span></dt><dd><p>Voxel sizes in mm in order (x, y, z); used if &lt;affine&gt; and &lt;image&gt;
are not provided.</p>
</dd>
<dt>origin<span class="classifier">tuple, default=(0, 0, 0)</span></dt><dd><p>Origin position in mm in order (x, y, z); used if &lt;affine&gt; and &lt;image&gt;
are not provided.</p>
</dd>
<dt>mask_threshold<span class="classifier">float, default=0.25</span></dt><dd><p>Used if the ROI is created from a non-boolean pixel array. Values 
in the array exceeding this level are taken to be inside the ROI
when it is converted to a boolean array.</p>
</dd>
<dt>default_geom_method<span class="classifier">str, default=”auto”</span></dt><dd><p>Default method for computing geometric quantities (area, centroid, etc).
Can be any of:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>“contour”: geometric quantities will be calculated from 
Shapely polygons made from contour points.</p></li>
<li><p>“mask”: geometric quantities will be calculated from 
numpy array representing a binary mask.</p></li>
<li><p>“auto”: the “contour” or “mask” method will be used, 
depending on whether the input that create the ROI comprised
of contours or an array, respectively.</p></li>
</ol>
</div></blockquote>
</dd>
<dt>overlap_level<span class="classifier">float, default=None</span></dt><dd><p>Used when converting an input ROI contour to a mask; required 
overlap of a pixel with the ROI contour in order for the 
pixel to be added to the mask. If None, the output of 
shapely.draw.polygon2mask will be returned with no border checks, 
which is faster than performing border checks.</p>
</dd>
<dt>kwargs<span class="classifier">dict, default=None</span></dt><dd><p>Extra arguments to pass to the initialisation of the parent
Image object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.clone_attrs">
<span class="sig-name descname"><span class="pre">clone_attrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.clone_attrs" title="Permalink to this definition"></a></dt>
<dd><p>Assign all attributes of &lt;self&gt; to another object, &lt;obj&gt;,  ensuring 
that own mask’s data gets correctly copied if &lt;copy_data&gt; is True.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.create_contours">
<span class="sig-name descname"><span class="pre">create_contours</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.create_contours" title="Permalink to this definition"></a></dt>
<dd><p>Create contours in all orientations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.create_mask">
<span class="sig-name descname"><span class="pre">create_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.create_mask" title="Permalink to this definition"></a></dt>
<dd><p>Create binary mask representation of this ROI. If the ROI was created
from contours, these contours will be converted to a mask; if the ROI
was created from a mask, this mask will be cast to a boolean array and
its geoemtric properties will be assigned to this ROI. If a mask has 
already been created, nothing will happen unless force=True.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If True, the mask will be recreated even if it already exists.</p>
</dd>
<dt>overlap_level<span class="classifier">float, default=0.25</span></dt><dd><p>Required overlap of a pixel with the ROI contour in order for the 
pixel to be added to the mask. Only used if &lt;check_borders&gt; is 
True. If None, the value of self.overlap_level will be used; otherwise,
self.overlap_level will be overwritten with this value. If both are 
None, the output of shapely.draw.polygon2mask will be returned 
with no border checks, which is faster than performing border checks.</p>
</dd>
<dt>voxel_size<span class="classifier">list, default=None</span></dt><dd><p>Voxel sizes of the desired mask in the [x, y] direction. Only used if 
the ROI was created from contours; ignored if ROI was created from 
mask. Causes self.image to be replaced with a 
blank dummy image with these voxel sizes.</p>
</dd>
<dt>shape<span class="classifier">list, default=None</span></dt><dd><p>Shape of the desired mask in the [x, y] direction. Only used if 
&lt;voxel_size&gt; is None and the ROI was created from contours; 
ignored if ROI was created from mask. Causes self.image to be 
replaced with a blank dummy image of this shape.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.crop_to_roi">
<span class="sig-name descname"><span class="pre">crop_to_roi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roi</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.crop_to_roi" title="Permalink to this definition"></a></dt>
<dd><p>Crop ROI mask to region covered by an ROI.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_abs_centroid_distance">
<span class="sig-name descname"><span class="pre">get_abs_centroid_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flatten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_abs_centroid_distance" title="Permalink to this definition"></a></dt>
<dd><p>Get absolute centroid distance with respect to another ROI.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>roi<span class="classifier">ROI</span></dt><dd><p>Other ROI with which to compare centroid.</p>
</dd>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation in which to get centroids if using a single slice or
flattening.</p>
</dd>
<dt>single_slice<span class="classifier">bool, default=False</span></dt><dd><p>If True, the centroid will be returned for a single slice.</p>
</dd>
<dt>flatten<span class="classifier">bool, default=False</span></dt><dd><p>If True, the 3D centroid will be obtained and then the absolute 
value along only the 2D axes in the orientation in &lt;view&gt; will
be returned.</p>
</dd>
<dt>kwargs<span class="classifier">dict</span></dt><dd><p>Other kwargs to pass to ROI.get_centroid().</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_affine">
<span class="sig-name descname"><span class="pre">get_affine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force_standardise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_affine" title="Permalink to this definition"></a></dt>
<dd><p>Load self and get affine matrix.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_area">
<span class="sig-name descname"><span class="pre">get_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flatten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_area" title="Permalink to this definition"></a></dt>
<dd><p>Get the area of the ROI on a given slice.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation of slice for which to get area.</p>
</dd>
<dt>sl<span class="classifier">int, default=None</span></dt><dd><p>Slice number. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>idx<span class="classifier">int, default=None</span></dt><dd><p>Array index of slice. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>pos<span class="classifier">float, default=None</span></dt><dd><p>Slice position in mm. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>units<span class="classifier">str, default=”mm”</span></dt><dd><p>Units of area. Can be either of:</p>
<blockquote>
<div><ul class="simple">
<li><p>“mm”: return area in millimetres squared.</p></li>
<li><p>“voxels”: return area in number of voxels.</p></li>
</ul>
</div></blockquote>
<p>If units=”voxels” is requested but this ROI only has contours and no
voxel size information, an error will be raised.</p>
</dd>
<dt>method<span class="classifier">str, default=None</span></dt><dd><p>Method to use for area calculation. Can be:</p>
<blockquote>
<div><ul class="simple">
<li><p>“contour”: compute area from shapely polygon on the slice.</p></li>
<li><p>“mask”: compute area by summing pixels on the slice and 
multiplying by the area of one pixel.</p></li>
<li><p>None: use the method set in self.default_geom_method.</p></li>
</ul>
</div></blockquote>
</dd>
<dt>flatten<span class="classifier">bool, default=False</span></dt><dd><p>If True, all slices will be flattened in the given orientation and
the area of the flattened slice will be returned. Only available
if method=”mask”.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_area_diff">
<span class="sig-name descname"><span class="pre">get_area_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_area_diff" title="Permalink to this definition"></a></dt>
<dd><p>Get absolute area difference between two ROIs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_area_ratio">
<span class="sig-name descname"><span class="pre">get_area_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_area_ratio" title="Permalink to this definition"></a></dt>
<dd><p>Get ratio of another ROI’s area with respect to own area.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_aspect_ratio">
<span class="sig-name descname"><span class="pre">get_aspect_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_aspect_ratio" title="Permalink to this definition"></a></dt>
<dd><p>Get aspect ratio for this structure in a given orientation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_centre">
<span class="sig-name descname"><span class="pre">get_centre</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_centre" title="Permalink to this definition"></a></dt>
<dd><p>Get centre position in 2D or 3D in mm.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_centroid">
<span class="sig-name descname"><span class="pre">get_centroid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_centroid" title="Permalink to this definition"></a></dt>
<dd><p>Get either 3D global centroid position or 2D centroid position on 
a single slice. If single_slice=False, the calculated global centroid 
will be cached in self._centroid[units] and returned if called again,
unless force=True.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>single_slice<span class="classifier">bool, default=False</span></dt><dd><p>If False, the global 3D centroid of the entire ROI will be returned;
otherwise, the 2D centroid on a single slice will be returned.</p>
</dd>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation of slice on which to get centroid. Only used if 
single_slice=True. If using, &lt;ax&gt; must be an axis that lies along
the slice in this orientation.</p>
</dd>
<dt>sl<span class="classifier">int, default=None</span></dt><dd><p>Slice number. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>idx<span class="classifier">int, default=None</span></dt><dd><p>Array index of slice. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>pos<span class="classifier">float, default=None</span></dt><dd><p>Slice position in mm. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>units<span class="classifier">str, default=”mm”</span></dt><dd><dl class="simple">
<dt>Units of centroid. Can be either of:</dt><dd><ul class="simple">
<li><p>“mm”: return centroid position in millimetres.</p></li>
<li><p>“voxels”: return centroid position in terms of array indices.</p></li>
<li><p>“slice”: return centroid position in terms of slice numbers.</p></li>
</ul>
</dd>
</dl>
<p>If units=”voxels” or “slice” is requested but this ROI only has 
contours and no mask shape/voxel size information, an error will be 
raised (unless ax=”z”, in which case voxel size will be inferred 
from spacing between slices).</p>
</dd>
<dt>method<span class="classifier">str, default=None</span></dt><dd><dl class="simple">
<dt>Method to use for centroid calculation. Can be: </dt><dd><ul class="simple">
<li><p>“contour”: get centroid of shapely contour(s).</p></li>
<li><p>“mask”: get average position of voxels in binary mask.</p></li>
<li><p>None: use the method set in self.default_geom_method.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>force<span class="classifier">bool, default=True</span></dt><dd><p>If True, the global centroid will always be recalculated; 
otherwise, it will only be calculated if it has not yet been cached 
in self._volume.  Note that if single_slice=True, the centroid will 
always be recalculated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_centroid_distance">
<span class="sig-name descname"><span class="pre">get_centroid_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_centroid_distance" title="Permalink to this definition"></a></dt>
<dd><p>Get centroid displacement vector with respect to another ROI.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>roi<span class="classifier">ROI</span></dt><dd><p>Other ROI with which to compare centroid.</p>
</dd>
<dt>single_slice<span class="classifier">bool, default=False</span></dt><dd><p>If True, the centroid will be returned for a single slice.</p>
</dd>
<dt>kwargs<span class="classifier">dict</span></dt><dd><p>Other kwargs to pass to ROI.get_centroid().</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_comparison">
<span class="sig-name descname"><span class="pre">get_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units_in_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_vs_slice_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_as_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nice_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_places</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_comparison" title="Permalink to this definition"></a></dt>
<dd><p>Return a pandas DataFrame of the comparison metrics listed in 
&lt;metrics&gt; with respect to another ROI.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>roi<span class="classifier">ROI</span></dt><dd><p>Other ROI with which to compare this ROI.</p>
</dd>
<dt>metrics<span class="classifier">list, default=None</span></dt><dd><p>List of metrics to include in the table. Options:</p>
<blockquote>
<div><ul class="simple">
<li><p>“dice” : global Dice score.</p></li>
<li><p>“dice_flat”: Dice score of ROIs flattened in the orientation
specified in &lt;view&gt;.</p></li>
<li><p>“dice_slice”: Dice score on a single slice.</p></li>
<li><p>“centroid”: 3D centroid distance vector.</p></li>
<li><p>“abs_centroid”: magnitude of 3D centroid distance vector.</p></li>
<li><p>“abs_centroid_flat”: magnitude of 3D centroid distance vector
projected into the plane specified in &lt;view&gt;.</p></li>
<li><p>“centroid_slice”: 2D centroid distance vector on a single slice.</p></li>
<li><p>“abs_centroid_slice”: magnitude of 2D centroid distance 
vector on a single slice.</p></li>
<li><p>“centroid_x”: x component of 3D centroid distance vector.</p></li>
<li><p>“centroid_y”: y component of 3D centroid distance vector.</p></li>
<li><p>“centroid_z”: z component of 3D centroid distance vector.</p></li>
<li><p>“volume_diff”: volume difference (own volume - other volume).</p></li>
<li><p>“rel_volume_diff”: volume difference divided by own volume.</p></li>
<li><p>“volume ratio”: volume ratio (own volume / other volume).</p></li>
<li><p>“area_diff”: area difference (own area - other area) on a 
single slice.</p></li>
<li><p>“rel_area_diff”: area difference divided by own area on a 
single slice.</p></li>
<li><p>“area ratio”: area ratio (own area / other area).</p></li>
<li><p>“area_diff_flat”: area difference of ROIs flattened in the
orientation specified in &lt;view&gt;.</p></li>
<li><p>“rel_area_diff_flat”: relative area difference of ROIs
flattened in the orientation specified in &lt;view&gt;.</p></li>
<li><p>“area_ratio_flat”: area ratio of ROIs flattened in the
orientation specified in &lt;view&gt;.</p></li>
<li><p>“mean_surface_distance”: mean surface distance.</p></li>
<li><p>“mean_surface_distance_flat”: mean surface distance of ROIs
flattened in the orientation specified in &lt;view&gt;.</p></li>
<li><p>“rms_surface_distance”: RMS surface distance.</p></li>
<li><p>“rms_surface_distance_flat”: RMS surface distance of ROIs
flattened in the orientation specified in &lt;view&gt;.</p></li>
<li><p>“hausdorff_distance”: Hausdorff distance.</p></li>
<li><p>“hausdorff_distance_flat”: Hausdorff distance of ROIs
flattened in the orientation specified in &lt;view&gt;.</p></li>
</ul>
</div></blockquote>
<p>If None, defaults to [“dice”, “centroid”].</p>
</dd>
<dt>vol_units<span class="classifier">str, default=”mm”</span></dt><dd><p>Units to use for volume. Can be “mm” (=mm^3), “ml”,
or “voxels”.</p>
</dd>
<dt>area_units<span class="classifier">str, default=”mm”</span></dt><dd><p>Units to use for areas. Can be “mm” (=mm^2) or “voxels”.</p>
</dd>
<dt>centroid_units:</dt><dd><p>Units to use for centroids. Can be “mm” or “voxels”.</p>
</dd>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation in which to compute metrics. Only relevant for 
single-slice metrics or flattened metrics.</p>
</dd>
<dt>sl<span class="classifier">int, default=None</span></dt><dd><p>Slice number on which to compute metrics. Only relevant for 
single-slice metrics (area, centroid_slice, length_slice).
If &lt;sl&gt;, &lt;idx&gt;, and &lt;pos&gt; are all None, the central slice of the
ROI will be used.</p>
</dd>
<dt>idx<span class="classifier">int, default=None</span></dt><dd><p>Slice index array on which to compute metrics. Only relevant for 
single-slice metrics (area, centroid_slice, length_slice).
Used if &lt;sl&gt; is None.</p>
</dd>
<dt>pos<span class="classifier">float, default=None</span></dt><dd><p>Slice position in mm on which to compute metrics. Only relevant for 
single-slice metrics (area, centroid_slice, length_slice).
Used if &lt;sl&gt; and &lt;idx&gt; are both None.</p>
</dd>
<dt>method<span class="classifier">str, default=None</span></dt><dd><p>Method to use for metric calculation. Can be either “contour” 
(use shapely polygons) or “mask” (use binary mask). If None,
the value set in self.default_geom_method will be used. Note 
that flattened metrics and surface distance metrics enforce use
of the “mask” method.</p>
</dd>
<dt>units_in_header<span class="classifier">bool, default=False</span></dt><dd><p>If True, units will be included in column headers.</p>
</dd>
<dt>global_vs_slice_header<span class="classifier">bool, default=False</span></dt><dd><p>If True, the returned DataFrame will have an extra set of headers
splitting the table into “global” and “slice” metrics.</p>
</dd>
<dt>name_as_index<span class="classifier">bool, default=True</span></dt><dd><p>If True, the index column of the pandas DataFrame will 
contain the ROI’s names; otherwise, the name will appear in a column
named “ROI”.</p>
</dd>
<dt>nice_columns<span class="classifier">bool, default=False</span></dt><dd><p>If False, column names will be the same as the input metrics names;
if True, the names will be capitalized and underscores will be 
replaced with spaces.</p>
</dd>
<dt>decimal_places<span class="classifier">int, default=None</span></dt><dd><p>Number of decimal places to keep for each metric. If None, full
precision will be used.</p>
</dd>
<dt>force<span class="classifier">bool, default=True</span></dt><dd><p>If False, global metrics for each ROI (volume, 3D centroid, 
3D lengths) will only be calculated if they have not been 
calculated before; if True, all metrics will be recalculated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_comparison_name">
<span class="sig-name descname"><span class="pre">get_comparison_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camelcase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_comparison_name" title="Permalink to this definition"></a></dt>
<dd><p>Get name of comparison between this ROI and another.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_contours">
<span class="sig-name descname"><span class="pre">get_contours</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_as_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_contours" title="Permalink to this definition"></a></dt>
<dd><p>Get dict of contours in a given orientation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_contours_on_slice">
<span class="sig-name descname"><span class="pre">get_contours_on_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_contours_on_slice" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_dice">
<span class="sig-name descname"><span class="pre">get_dice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flatten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_dice" title="Permalink to this definition"></a></dt>
<dd><p>Get Dice score with respect to another ROI, either globally or on a 
single slice.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>other<span class="classifier">ROI</span></dt><dd><p>Other ROI to compare with this ROI.</p>
</dd>
<dt>single_slice<span class="classifier">bool, default=False</span></dt><dd><p>If False, the global 3D Dice score of the full ROIs will be returned;
otherwise, the 2D Dice score on a single slice will be returned.</p>
</dd>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation of slice on which to get Dice score. Only used if 
single_slice=True. If using, &lt;ax&gt; must be an axis that lies along
the slice in this orientation.</p>
</dd>
<dt>sl<span class="classifier">int, default=None</span></dt><dd><p>Slice number. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of this ROI will be used.</p>
</dd>
<dt>idx<span class="classifier">int, default=None</span></dt><dd><p>Array index of slice. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of this ROI will be used.</p>
</dd>
<dt>pos<span class="classifier">float, default=None</span></dt><dd><p>Slice position in mm. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of this ROI will be used.</p>
</dd>
<dt>method<span class="classifier">str, default=None</span></dt><dd><dl class="simple">
<dt>Method to use for Dice score calculation. Can be: </dt><dd><ul class="simple">
<li><p>“contour”: get intersections and areas of shapely contours.</p></li>
<li><p>“mask”: count intersecting voxels in binary masks.</p></li>
<li><p>None: use the method set in self.default_geom_method.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>flatten<span class="classifier">bool, default=False</span></dt><dd><p>If True, all slices will be flattened in the given orientation and
the Dice score of the flattened slices will be returned. Only 
available if method=”mask”.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_dicom_dataset">
<span class="sig-name descname"><span class="pre">get_dicom_dataset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_dicom_dataset" title="Permalink to this definition"></a></dt>
<dd><p>Return pydicom.dataset.FileDataset object associated with this ROI
if loaded from dicom; otherwise, return None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_dummy_image">
<span class="sig-name descname"><span class="pre">get_dummy_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_dummy_image" title="Permalink to this definition"></a></dt>
<dd><p>Make a dummy image that covers the area spanned by this ROI. 
Returns an Image object.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>voxel_size<span class="classifier">list, default=None</span></dt><dd><p>Voxel size in mm in the dummy image in the x-y plane, given as 
[vx, vy]. If &lt;shape&gt; and &lt;voxel_size&gt; are both None, voxel sizes of
[1, 1] will be used by default. The voxel size in the z direction 
will be taken from the minimum distance between slice positions in 
the x-y contours dictionary.</p>
</dd>
<dt>shape<span class="classifier">list, default=None</span></dt><dd><p>Number of voxels in the dummy image in the x-y plane, given as
[nx, ny]. Only used if &lt;voxel_size&gt; is None. 
The number of voxels in the z direction will be taken from the 
number of slices in the x-y contours dictionary.</p>
</dd>
<dt>fill_val<span class="classifier">int/float, default=1e4</span></dt><dd><p>Value with which the voxels in the dummy image should be filled.</p>
</dd>
<dt>buffer<span class="classifier">int, default=1</span></dt><dd><p>Number of empty buffer voxels to add outside the ROI in each
direction.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_extent">
<span class="sig-name descname"><span class="pre">get_extent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'z'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_extent" title="Permalink to this definition"></a></dt>
<dd><p>Get minimum and maximum extent of the ROI in mm along a given axis.</p>
<dl>
<dt>ax<span class="classifier">str/int, default=”z”</span></dt><dd><p>Axis along which to return extent. Should be one of [“x”, “y”, “z”] 
or [0, 1, 2]</p>
</dd>
<dt>single_slice<span class="classifier">bool, default=False</span></dt><dd><p>If False, the 3D extent of the entire ROI will be returned;
otherwise, the 2D extent of a single slice will be returned.</p>
</dd>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation of slice on which to get extent. Only used if 
single_slice=True. If using, &lt;ax&gt; must be an axis that lies along
the slice in this orientation.</p>
</dd>
<dt>sl<span class="classifier">int, default=None</span></dt><dd><p>Slice number. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>idx<span class="classifier">int, default=None</span></dt><dd><p>Array index of slice. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>pos<span class="classifier">float, default=None</span></dt><dd><p>Slice position in mm. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>method<span class="classifier">str, default=None</span></dt><dd><p>Method to use for extent calculation. Can be:</p>
<blockquote>
<div><ul class="simple">
<li><p>“contour”: get extent from min/max positions of contour(s).</p></li>
<li><p>“mask”: get extent from min/max positions of voxels in the 
binary mask.</p></li>
<li><p>None: use the method set in self.default_geom_method.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_extents">
<span class="sig-name descname"><span class="pre">get_extents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_extents" title="Permalink to this definition"></a></dt>
<dd><p>Get minimum and maximum extent of the ROI in mm along all three axes,
returned in order [x, y, z]. Optionally apply a buffer to the extents
such that they cover more than the ROI’s area.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>buffer<span class="classifier">float, default=None</span></dt><dd><p>Optional buffer to add to the extents. Units set by <cite>buffer_units</cite>.</p>
</dd>
<dt>buffer_units<span class="classifier">str, default=”mm”</span></dt><dd><p>Units for buffer, if using. Can be “mm”, “voxels”, or “frac” (which
applies buffer as a fraction of total length in each dimension).</p>
</dd>
<dt>method<span class="classifier">str, default=None</span></dt><dd><p>Method to use for extent calculation. Can be:</p>
<blockquote>
<div><ul class="simple">
<li><p>“contour”: get extent from min/max positions of contour(s).</p></li>
<li><p>“mask”: get extent from min/max positions of voxels in the 
binary mask.</p></li>
<li><p>None: use the method set in self.default_geom_method.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_geometry">
<span class="sig-name descname"><span class="pre">get_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units_in_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_vs_slice_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_as_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nice_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_places</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_geometry" title="Permalink to this definition"></a></dt>
<dd><p>Return a pandas DataFrame of the geometric properties listed in
&lt;metrics&gt;.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>metrics<span class="classifier">list, default=None</span></dt><dd><p>List of metrics to include in the table. Options:</p>
<blockquote>
<div><ul class="simple">
<li><p>“volume” : volume of entire ROI.</p></li>
<li><p>“area”: area of ROI on a single slice.</p></li>
<li><p>“centroid”: 3D centre-of-mass of ROI; will be split into
three columns corresponding to the three axes.</p></li>
<li><p>“centroid_x”: 3D centre-of-mass of ROI along the x-axis.</p></li>
<li><p>“centroid_y”: 3D centre-of-mass of ROI along the y-axis.</p></li>
<li><p>“centroid_z”: 3D centre-of-mass of ROI along the z-axis.</p></li>
<li><p>“centroid_slice”: 2D centre of mass on a single slice. Will
be split into two columns corresponding to the two axes on
the slice.</p></li>
<li><p>“length”: lengths of the ROI in each direction; will be split
into three columns corresponding to the three axes.</p></li>
<li><p>“length_x”: length of the ROI along the x-axis.</p></li>
<li><p>“length_y”: length of the ROI along the y-axis.</p></li>
<li><p>“length_z”: length of the ROI along the z-axis.</p></li>
<li><p>“length_slice”: length of the ROI on a single slice; will be
split into two columns corresponding to the two axes on the
slice.</p></li>
</ul>
</div></blockquote>
<p>If None, defaults to [“volume”, “centroid”]</p>
</dd>
<dt>vol_units<span class="classifier">str, default=”mm”</span></dt><dd><p>Units to use for volume. Can be “mm” (=mm^3), “ml”,
or “voxels”.</p>
</dd>
<dt>area_units<span class="classifier">str, default=”mm”</span></dt><dd><p>Units to use for areas. Can be “mm” (=mm^2) or “voxels”.</p>
</dd>
<dt>length_units<span class="classifier">str, default=”mm”:</span></dt><dd><p>Units to use for lengths. Can be “mm” or “voxels”.</p>
</dd>
<dt>centroid_units:</dt><dd><p>Units to use for centroids. Can be “mm” or “voxels”.</p>
</dd>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation in which to compute metrics. Only relevant for 
single-slice metrics (area, centroid_slice, length_slice).</p>
</dd>
<dt>sl<span class="classifier">int, default=None</span></dt><dd><p>Slice number on which to compute metrics. Only relevant for 
single-slice metrics (area, centroid_slice, length_slice).
If &lt;sl&gt;, &lt;idx&gt;, and &lt;pos&gt; are all None, the central slice of the
ROI will be used.</p>
</dd>
<dt>idx<span class="classifier">int, default=None</span></dt><dd><p>Slice index array on which to compute metrics. Only relevant for 
single-slice metrics (area, centroid_slice, length_slice).
Used if &lt;sl&gt; is None.</p>
</dd>
<dt>pos<span class="classifier">float, default=None</span></dt><dd><p>Slice position in mm on which to compute metrics. Only relevant for 
single-slice metrics (area, centroid_slice, length_slice).
Used if &lt;sl&gt; and &lt;idx&gt; are both None.</p>
</dd>
<dt>method<span class="classifier">str, default=None</span></dt><dd><p>Method to use for metric calculation. Can be either “contour” 
(use shapely polygons) or “mask” (use binary mask). If None,
the value set in self.default_geom_method will be used.</p>
</dd>
<dt>units_in_header<span class="classifier">bool, default=False</span></dt><dd><p>If True, units will be included in column headers.</p>
</dd>
<dt>global_vs_slice_header<span class="classifier">bool, default=False</span></dt><dd><p>If True, the returned DataFrame will have an extra set of headers
splitting the table into “global” and “slice” metrics.</p>
</dd>
<dt>name_as_index<span class="classifier">bool, default=True</span></dt><dd><p>If True, the index column of the pandas DataFrame will 
contain the ROI’s name; otherwise, the name will appear in a column
named “ROI”.</p>
</dd>
<dt>nice_columns<span class="classifier">bool, default=False</span></dt><dd><p>If False, column names will be the same as the input metrics names;
if True, the names will be capitalized and underscores will be 
replaced with spaces.</p>
</dd>
<dt>decimal_places<span class="classifier">int, default=None</span></dt><dd><p>Number of decimal places to keep for each metric. If None, full
precision will be used.</p>
</dd>
<dt>force<span class="classifier">bool, default=True</span></dt><dd><p>If False, global metrics (volume, 3D centroid, 3D lengths) will
only be calculated if they have not been calculated before;
if True, all metrics will be recalculated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_hausdorff_distance">
<span class="sig-name descname"><span class="pre">get_hausdorff_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_hausdorff_distance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_idx">
<span class="sig-name descname"><span class="pre">get_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_idx" title="Permalink to this definition"></a></dt>
<dd><p>Get an array index from either a slice number, index, or
position.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_indices">
<span class="sig-name descname"><span class="pre">get_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_indices" title="Permalink to this definition"></a></dt>
<dd><p>Get list of slice indices on which this ROI exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_length">
<span class="sig-name descname"><span class="pre">get_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'z'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_length" title="Permalink to this definition"></a></dt>
<dd><p>Get ROI length along a given axis. If single_slice=False (i.e. a 
global length is requested), calculated length will be cached in 
self._length[ax][units] and returned if called again, unless force=True.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>ax<span class="classifier">str/int, default=”z”</span></dt><dd><p>Axis along which to return length; should be one of [“x”, “y”, “z”]
or [0, 1, 2].</p>
</dd>
<dt>single_slice<span class="classifier">bool, default=False</span></dt><dd><p>If False, the length of the entire ROI will be returned;
otherwise, the length on a single slice will be returned.</p>
</dd>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation of slice on which to get length. Only used if 
single_slice=True. If using, &lt;ax&gt; must be an axis that lies along
the slice in this orientation.</p>
</dd>
<dt>sl<span class="classifier">int, default=None</span></dt><dd><p>Slice number. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>idx<span class="classifier">int, default=None</span></dt><dd><p>Array index of slice. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>pos<span class="classifier">float, default=None</span></dt><dd><p>Slice position in mm. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>units<span class="classifier">str, default=”mm”</span></dt><dd><dl class="simple">
<dt>Units of length. Can be either of:</dt><dd><ul class="simple">
<li><p>“mm”: return length in millimetres.</p></li>
<li><p>“voxels”: return length in number of voxels.</p></li>
</ul>
</dd>
</dl>
<p>If units=”voxels” is requested but this ROI only has contours and no
voxel size information, an error will be raised (unless ax=”z”, 
in which case voxel size will be inferred from spacing between
slices).</p>
</dd>
<dt>method<span class="classifier">str, default=None</span></dt><dd><dl class="simple">
<dt>Method to use for length calculation. Can be: </dt><dd><ul class="simple">
<li><p>“contour”: get length from min/max positions of contour(s).</p></li>
<li><p>“mask”: get length from min/max positions of voxels in the 
binary mask.</p></li>
<li><p>None: use the method set in self.default_geom_method.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>force<span class="classifier">bool, default=True</span></dt><dd><p>If True, the length will always be recalculated; otherwise, it will
only be calculated if it has not yet been cached in self._volume.
Note that if single_slice=True, the length will always be 
recalculated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_mask">
<span class="sig-name descname"><span class="pre">get_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flatten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standardise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_standardise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_mask" title="Permalink to this definition"></a></dt>
<dd><p>Get binary mask, optionally flattened in a given orientation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_mean_surface_distance">
<span class="sig-name descname"><span class="pre">get_mean_surface_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_mean_surface_distance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_mid_idx">
<span class="sig-name descname"><span class="pre">get_mid_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_mid_idx" title="Permalink to this definition"></a></dt>
<dd><p>Get central slice index of this ROI in a given orientation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_nz_contours">
<span class="sig-name descname"><span class="pre">get_nz_contours</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_nz_contours" title="Permalink to this definition"></a></dt>
<dd><p>Get number of voxels in the z direction using positions of contours.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_origin">
<span class="sig-name descname"><span class="pre">get_origin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_origin" title="Permalink to this definition"></a></dt>
<dd><p>Load self and get origin.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_polygons">
<span class="sig-name descname"><span class="pre">get_polygons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_as_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_polygons" title="Permalink to this definition"></a></dt>
<dd><p>Get dict of polygons for each slice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_polygons_on_slice">
<span class="sig-name descname"><span class="pre">get_polygons_on_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_polygons_on_slice" title="Permalink to this definition"></a></dt>
<dd><p>Get shapely polygon objects corresponding to a given slice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_relative_area_diff">
<span class="sig-name descname"><span class="pre">get_relative_area_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_relative_area_diff" title="Permalink to this definition"></a></dt>
<dd><p>Get relative area of another ROI with respect to own area.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_relative_volume_diff">
<span class="sig-name descname"><span class="pre">get_relative_volume_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_relative_volume_diff" title="Permalink to this definition"></a></dt>
<dd><p>Get relative volume of another ROI with respect to own volume.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_rms_surface_distance">
<span class="sig-name descname"><span class="pre">get_rms_surface_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_rms_surface_distance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_slice">
<span class="sig-name descname"><span class="pre">get_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_standardise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_slice" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_slice_thickness_contours">
<span class="sig-name descname"><span class="pre">get_slice_thickness_contours</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_slice_thickness_contours" title="Permalink to this definition"></a></dt>
<dd><p>Get z voxel size using positions of contours.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_surface_distance_metrics">
<span class="sig-name descname"><span class="pre">get_surface_distance_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_surface_distance_metrics" title="Permalink to this definition"></a></dt>
<dd><p>Get the mean surface distance, RMS surface distance, and Hausdorff
distance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_surface_distances">
<span class="sig-name descname"><span class="pre">get_surface_distances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flatten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_surface_distances" title="Permalink to this definition"></a></dt>
<dd><p>Get vector of surface distances between two ROIs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_volume">
<span class="sig-name descname"><span class="pre">get_volume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_volume" title="Permalink to this definition"></a></dt>
<dd><p>Get ROI volume. The calculated volume will be cached in 
self._volume[units] and returned if called again, unless force=True.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>units<span class="classifier">str, default=”mm”</span></dt><dd><dl class="simple">
<dt>Units of volume. Can be any of:</dt><dd><ul class="simple">
<li><p>“mm”: return volume in millimetres cubed.</p></li>
<li><p>“ml”: return volume in millilitres.</p></li>
<li><p>“voxels”: return volume in number of voxels.</p></li>
</ul>
</dd>
</dl>
<p>If units=”voxels” is requested but this ROI only has contours and no
voxel size information, an error will be raised.</p>
</dd>
<dt>method<span class="classifier">str, default=None</span></dt><dd><dl class="simple">
<dt>Method to use for volume calculation. Can be: </dt><dd><ul class="simple">
<li><p>“contour”: compute volume by summing areas of shapely
polygons on each slice and multiplying by slice thickness.</p></li>
<li><p>“mask”: compute volume by summing voxels inside the ROI and
multiplying by the volume of one voxel.</p></li>
<li><p>None: use the method set in self.default_geom_method.</p></li>
</ul>
</dd>
</dl>
<p>Note that if self.get_volume has already been called with one 
method, the same cached result will be returned if calling with a 
different method unless force=True.</p>
</dd>
<dt>force<span class="classifier">bool, default=True</span></dt><dd><p>If True, the volume will always be recalculated; otherwise, it will
only be calculated if it has not yet been cached in self._volume.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_volume_diff">
<span class="sig-name descname"><span class="pre">get_volume_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_volume_diff" title="Permalink to this definition"></a></dt>
<dd><p>Get own volume minus volume of other ROI.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_volume_ratio">
<span class="sig-name descname"><span class="pre">get_volume_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_volume_ratio" title="Permalink to this definition"></a></dt>
<dd><p>Get ratio of another ROI’s volume with respect to own volume.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_voxel_size">
<span class="sig-name descname"><span class="pre">get_voxel_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_voxel_size" title="Permalink to this definition"></a></dt>
<dd><p>Load self and get voxel_size.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.get_zoom_centre">
<span class="sig-name descname"><span class="pre">get_zoom_centre</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.get_zoom_centre" title="Permalink to this definition"></a></dt>
<dd><p>Get coordinates to zoom in on this ROI.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.idx_to_pos">
<span class="sig-name descname"><span class="pre">idx_to_pos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standardise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.idx_to_pos" title="Permalink to this definition"></a></dt>
<dd><p>Convert an array index to a position in mm along a given axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.idx_to_slice">
<span class="sig-name descname"><span class="pre">idx_to_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.idx_to_slice" title="Permalink to this definition"></a></dt>
<dd><p>Convert an array index to a slice number along a given axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.is_empty">
<span class="sig-name descname"><span class="pre">is_empty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.is_empty" title="Permalink to this definition"></a></dt>
<dd><p>Check whether this ROI is empty.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.load" title="Permalink to this definition"></a></dt>
<dd><p>Load ROI from file or source. The loading sequence is as follows:</p>
<p>1. If self.image is not None, ensure that the image is loaded and 
assign its geometric properties to this ROI.</p>
<ol class="arabic simple" start="2">
<li><p>Attempt to load data from self.source:</p></li>
</ol>
<p>(a) If this is an Image object, the ROI will be created by applying a 
threshold to the Image’s array. Set self.mask to the thresholded image
and self.input_type = “mask”.
(b) If self.source is a string, attempt to load from a dicom structure 
set (thus setting self.input_contours).
(c) If dicom loading fails, attempt to load self.source as an Image 
object to create an ROI mask. If this finds a valid Image, set
self.mask to that image and set self.input_type = “mask”.
(d) If self.source is None, do nothing with it.</p>
<p>3. Check whether self.input_contours contains data. This could arise
in two scenarios:</p>
<p>(a) The ROI was initialised from a dict of contours, which were
assigned to self.input_contours in self.__init(); or
(b) A set of contours was successfully loaded from a dicom file found 
at self.source in step 1(b).</p>
<p>If input contours are found, these are assigned to self.contours[“x-y”]
and self.source_type is set to “contour”. Additionally, if self.image
is not None, set self.mask to an array of zeros the same size as the 
image.</p>
<p>4. Set a flag indicating whether this ROI has contours only (i.e no
mask or image from which to draw origin/voxel sizes), and set
default geometric calculation method to self.source_type. Set
self.loaded to True.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.mask_to_contours">
<span class="sig-name descname"><span class="pre">mask_to_contours</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.mask_to_contours" title="Permalink to this definition"></a></dt>
<dd><p>Create contours from a mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.match_voxel_size">
<span class="sig-name descname"><span class="pre">match_voxel_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.match_voxel_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.on_slice">
<span class="sig-name descname"><span class="pre">on_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.on_slice" title="Permalink to this definition"></a></dt>
<dd><p>Check whether this ROI exists on a given slice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contour_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom_centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_as</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.plot" title="Permalink to this definition"></a></dt>
<dd><p>Plot this ROI as either a mask or a contour.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation in which to plot. Can be “x-y”, “y-z”, or “x-z”.</p>
</dd>
<dt>plot_type<span class="classifier">str, default=None</span></dt><dd><p>Plotting type. If None, will be either “contour” or “mask” 
depending on the input type of the ROI. Options:</p>
<blockquote>
<div><ul class="simple">
<li><p>“contour”</p></li>
<li><p>“mask”</p></li>
<li><p>“centroid” (contour with marker at centroid)</p></li>
<li><p>“filled” (transparent mask + contour)</p></li>
<li><p>“filled centroid” (filled with marker at centroid)</p></li>
</ul>
</div></blockquote>
</dd>
<dt>sl<span class="classifier">int, default=None</span></dt><dd><p>Slice number to plot. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied, 
the central slice of the ROI will be 
used.</p>
</dd>
<dt>idx<span class="classifier">int, default=None</span></dt><dd><p>Array index of slice to plot. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are 
supplied, the central slice of the ROI will be used.</p>
</dd>
<dt>pos<span class="classifier">float, default=None</span></dt><dd><p>Position in mm of slice to plot. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; 
are supplied, the central slice of the ROI will be used.</p>
</dd>
<dt>ax<span class="classifier">matplotlib.pyplot.Axes, default=None</span></dt><dd><p>Axes on which to plot. If None, new axes will be created.</p>
</dd>
<dt>gs<span class="classifier">matplotlib.gridspec.GridSpec, default=None</span></dt><dd><p>If not None and &lt;ax&gt; is None, new axes will be created on the
current matplotlib figure with this gridspec.</p>
</dd>
<dt>figsize<span class="classifier">float, default=skrt.image._default_figsize</span></dt><dd><p>Figure height in inches; only used if &lt;ax&gt; and &lt;gs&gt; are None.</p>
</dd>
<dt>opacity<span class="classifier">float, default=None</span></dt><dd><p>Opacity to use if plotting mask (i.e. plot types “mask”, “filled”, 
or “filled centroid”). If None, opacity will be 1 by default for 
solid mask plots and 0.3 by default for filled plots.</p>
</dd>
<dt>linewidth<span class="classifier">float, default=None</span></dt><dd><p>Width of contour lines. If None, the matplotlib default setting 
will be used.</p>
</dd>
<dt>contour_kwargs<span class="classifier">dict, default=None</span></dt><dd><p>Extra keyword arguments to pass to matplotlib contour plotting.</p>
</dd>
<dt>mask_kwargs<span class="classifier">dict, default=None</span></dt><dd><p>Extra keyword arguments to pass to matplotlib mask plotting.</p>
</dd>
<dt>zoom<span class="classifier">int/float/tuple, default=None</span></dt><dd><p>Factor by which to zoom in. If a single int or float is given,
the same zoom factor will be applied in all directions. If a tuple
of three values is given, these will be used as the zoom factors
in each direction in the order (x, y, z). If None, the image will
not be zoomed in.</p>
</dd>
<dt>zoom_centre<span class="classifier">tuple, default=None</span></dt><dd><p>Position around which zooming is applied. If None, the centre of
the image will be used.</p>
</dd>
<dt>color<span class="classifier">matplotlib color, default=None</span></dt><dd><p>Color with which to plot the ROI; overrides the ROI’s own color. If 
None, self.color will be used.</p>
</dd>
<dt>show<span class="classifier">bool, default=True</span></dt><dd><p>If True, the plot will be displayed immediately.</p>
</dd>
<dt>save_as<span class="classifier">str, default=None</span></dt><dd><p>If set to a string, the plot will be saved to the filename in the 
string.</p>
</dd>
<dt>include_image<span class="classifier">bool, default=False</span></dt><dd><p>If True and self.image is not None, the ROI’s image will be plotted
in the background.</p>
</dd>
<dt>no_invert<span class="classifier">bool, default=False</span></dt><dd><p>If False, contour plots will be automatically inverted when plotting
without an underlying image to account for the y axis increasing 
in the opposite direction. Otherwise, the plot will be left as
it appeared when drawn by matplotlib.</p>
</dd>
<dt><a href="#id1"><span class="problematic" id="id2">`</span></a><a href="#id3"><span class="problematic" id="id4">**</span></a><a href="#id5"><span class="problematic" id="id6">`</span></a>kwargs :</dt><dd><p>Extra keyword arguments to pass to the relevant plot function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.plot_comparison">
<span class="sig-name descname"><span class="pre">plot_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mid_slice_for_both</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_as</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.plot_comparison" title="Permalink to this definition"></a></dt>
<dd><p>Plot comparison with another ROI. If no sl/idx/pos are given,
the central slice of this ROI will be plotted, unless 
mid_slice_for_both=True, in which case the central slice of both ROIs
will be plotted (even though this may not correspond to the same 
point in space).</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>other<span class="classifier">ROI</span></dt><dd><p>Other ROI with which to plot comparison.</p>
</dd>
<dt>view<span class="classifier">str, default=”x-y”</span></dt><dd><p>Orientation in which to plot ROIs.</p>
</dd>
<dt>sl<span class="classifier">int, default=None</span></dt><dd><p>Slice number. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>idx<span class="classifier">int, default=None</span></dt><dd><p>Array index of slice. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>pos<span class="classifier">float, default=None</span></dt><dd><p>Slice position in mm. If none of &lt;sl&gt;, &lt;idx&gt; or &lt;pos&gt; are supplied but
&lt;single_slice&gt; is True, the central slice of the ROI will be used.</p>
</dd>
<dt>mid_slice_for_both<span class="classifier">bool, default=False</span></dt><dd><p>If True and no sl/idx/pos are given, the central slices of both
ROIs will be plotted, even if this does not correspond to the same
point in space; otherwise, the position of the central slice of
this ROI will be plotted for both.</p>
</dd>
<dt>legend<span class="classifier">bool, default=True</span></dt><dd><p>If True, a legend will be added to the plot containing the names 
of the two ROIs.</p>
</dd>
<dt>save_as<span class="classifier">str, default=None</span></dt><dd><p>Path to a file at which the plot will be saved. If None, the plot
will not be saved.</p>
</dd>
<dt>names<span class="classifier">list, default=None</span></dt><dd><p>Custom names to use for the ROI legend in order [this ROI, other ROI].
If None, the names in self.name and roi.name will be used.</p>
</dd>
<dt>show<span class="classifier">bool, default=True</span></dt><dd><p>If True, the plot will be displayed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.plot_surface_distances">
<span class="sig-name descname"><span class="pre">plot_surface_distances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_as</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.plot_surface_distances" title="Permalink to this definition"></a></dt>
<dd><p>Plot histogram of surface distances.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.pos_to_idx">
<span class="sig-name descname"><span class="pre">pos_to_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.pos_to_idx" title="Permalink to this definition"></a></dt>
<dd><p>Convert a position in mm to an array index along a given axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.pos_to_slice">
<span class="sig-name descname"><span class="pre">pos_to_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standardise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.pos_to_slice" title="Permalink to this definition"></a></dt>
<dd><p>Convert a position in mm to a slice number along a given axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.resample">
<span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.resample" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.reset_contours">
<span class="sig-name descname"><span class="pre">reset_contours</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contours</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.reset_contours" title="Permalink to this definition"></a></dt>
<dd><p>Reset x-y contours to a given dict of slices and contour lists, 
and ensure that mask and y-z/x-z contours will be recreated. If 
contours is None, contours will be reset using own x-y contours.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.reset_mask">
<span class="sig-name descname"><span class="pre">reset_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.reset_mask" title="Permalink to this definition"></a></dt>
<dd><p>Set mask to either a numpy array or an Image object, and ensure 
that contours will be recreated. If mask is None, contours will be 
reset using own mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.set_ax">
<span class="sig-name descname"><span class="pre">set_ax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_image</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.set_ax" title="Permalink to this definition"></a></dt>
<dd><p>Set up axes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.set_color">
<span class="sig-name descname"><span class="pre">set_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.set_color" title="Permalink to this definition"></a></dt>
<dd><p>Set plotting color.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.set_image">
<span class="sig-name descname"><span class="pre">set_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.set_image" title="Permalink to this definition"></a></dt>
<dd><p>Set self.image to a given image and adjust geometric properties
accordingly. Note that self.mask will be removed if the current mask’s 
shape doesn’t match the image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.set_image_to_dummy">
<span class="sig-name descname"><span class="pre">set_image_to_dummy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.set_image_to_dummy" title="Permalink to this definition"></a></dt>
<dd><p>Assign self.image property to a dummy image covering the area 
spanned by this ROI. The ROI’s mask and x-z/y-z contours will be 
cleared so that they will be recreated when get_mask() or get_contours()
are next called.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>kwargs<span class="classifier"></span></dt><dd><p>Keyword arguments to pass to self.get_dummy_image() when creating
the dummy image. See documentation of ROI.get_dummy_image().</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.slice_to_idx">
<span class="sig-name descname"><span class="pre">slice_to_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.slice_to_idx" title="Permalink to this definition"></a></dt>
<dd><p>Convert a slice number to an array index.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.slice_to_pos">
<span class="sig-name descname"><span class="pre">slice_to_pos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standardise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.slice_to_pos" title="Permalink to this definition"></a></dt>
<dd><p>Convert a slice number to a position in mm along a given axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fine'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_contours</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.transform" title="Permalink to this definition"></a></dt>
<dd><p>Apply three-dimensional similarity transform to ROI.</p>
<p>If the transform corresponds to a translation and/or rotation
about the z-axis, and either the roi source type is “dicom”
or force-contours is True, the transform is applied to contour
points and the roi mask is set as unloaded.  Otherwise the transform
is applied to the mask and contours are set as unloaded.</p>
<p>The transform is applied in the order: translation, scaling,
rotation.  The latter two are about the centre coordinates.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>force_contours<span class="classifier">bool, default=False</span></dt><dd><p>If True, and the transform corresponds to a translation
and/or rotation about the z-axis, apply transform to contour
points independently of the original data source.</p>
</dd>
</dl>
<p>For other parameters, see documentation for
skrt.image.Image.transform().  Note that the <code class="docutils literal notranslate"><span class="pre">order</span></code>
parameter isn’t available for roi transforms - a value of 0
is used always.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.view">
<span class="sig-name descname"><span class="pre">view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.view" title="Permalink to this definition"></a></dt>
<dd><p>View the ROI.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>include_image<span class="classifier">bool, default=True</span></dt><dd><p>If True and this ROI has an associated image (in self.image),
the image will be displayed behind the ROI.</p>
</dd>
<dt>voxel_size<span class="classifier">list, default=[1, 1]</span></dt><dd><p>If the ROI does not have an associated image and is described only
by contours, this will be the voxel sizes used in the x-y direction
when converting the ROI to a mask if a mask plot type is selected.</p>
</dd>
<dt>buffer<span class="classifier">int, default=5</span></dt><dd><p>If the ROI does not have an associated image and is described only
by contours, this will be the number of buffer voxels 
(i.e. whitespace) displayed around the ROI.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROI.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROI.write" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.structures.ROIDefaults">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">ROIDefaults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROIDefaults" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Singleton class for assigning default ROI names and colours.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROIDefaults.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROIDefaults.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Constructor of ROIDefaults singleton class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROIDefaults.get_default_roi_color">
<span class="sig-name descname"><span class="pre">get_default_roi_color</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROIDefaults.get_default_roi_color" title="Permalink to this definition"></a></dt>
<dd><p>Get a default roi color.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROIDefaults.get_default_roi_name">
<span class="sig-name descname"><span class="pre">get_default_roi_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROIDefaults.get_default_roi_name" title="Permalink to this definition"></a></dt>
<dd><p>Get a default name for an ROI.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.ROIDefaults.get_default_structure_set_name">
<span class="sig-name descname"><span class="pre">get_default_structure_set_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.ROIDefaults.get_default_structure_set_name" title="Permalink to this definition"></a></dt>
<dd><p>Get a default name for a structure set.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.structures.ROIDefaults.instance">
<span class="sig-name descname"><span class="pre">instance</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;skrt.structures.ROIDefaults.__ROIDefaults</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#skrt.structures.ROIDefaults.instance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.structures.StructureSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">StructureSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skrt.core.html#skrt.core.Archive" title="skrt.core.Archive"><code class="xref py py-class docutils literal notranslate"><span class="pre">skrt.core.Archive</span></code></a></p>
<p>Structure set.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Load structure set from the source(s) given in &lt;path&gt;.</p>
<p><strong>Parameters</strong>:</p>
<dl>
<dt>path<span class="classifier">str/list, default=None</span></dt><dd><p>Source(s) of ROIs to load into this structure set. Can be:</p>
<ul class="simple">
<li><p>The path to a single dicom structure set file;</p></li>
<li><p>The path to a single nifti file containing an ROI mask;</p></li>
<li><p>A list of paths to nifti files containing ROI masks;</p></li>
<li><p>The path to a directory containing multiple nifti files</p></li>
</ul>
<p>containing ROI masks;
- A list of ROI objects;
- A list of objects that could be used to initialise an ROI object
(e.g. a numpy array).</p>
</dd>
<dt>name<span class="classifier">str, default=None</span></dt><dd><p>Optional name to assign to this structure set. If None, will 
attempt to infer from input filename.</p>
</dd>
<dt>image<span class="classifier">skrt.image.Image, default=None</span></dt><dd><p>Image associated with this structure set. If the input source is a
dicom file containing ROI contours, this image will be used when
creating ROI binary masks.</p>
</dd>
<dt>load<span class="classifier">bool, default=True</span></dt><dd><p>If True, ROIs will immediately be loaded from sources. Otherwise,
loading will not occur until StructureSet.load() is called.</p>
</dd>
<dt>names<span class="classifier">dict, default=None</span></dt><dd><p>Optional dict of ROI names to use when renaming loaded ROIs. Keys 
should be desired names, and values should be lists of possible
input names or wildcards matching input names.</p>
</dd>
<dt>to_keep<span class="classifier">list, default=None</span></dt><dd><p>Optional list of ROI names or wildcards matching ROI names of ROIs
to keep in this StructureSet during loading. ROIs not matching will
be discarded. Note that the names should reflect those after 
renaming via the &lt;names&gt; dict. If None, all ROIs will be kept.</p>
</dd>
<dt>to_remove<span class="classifier">list, default=None</span></dt><dd><p>Optional list of ROI names or wildcards matching ROI names of ROIs
to remove from this StructureSet during loading. ROIs matching will
be discarded. Note that the names should reflect those after 
renaming via the &lt;names&gt; dict, and removal occurs after filtering
with the &lt;to_keep&gt; list. If None, no ROIs will be removed.</p>
</dd>
<dt>multi_label<span class="classifier">bool, default=False</span></dt><dd><p>If True and input is a numpy array, will look for multiple ROI 
masks with different labels inside the array and create a separate
ROI from each.</p>
</dd>
<dt><a href="#id7"><span class="problematic" id="id8">`</span></a><a href="#id9"><span class="problematic" id="id10">**</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a>kwargs :</dt><dd><p>Additional keyword args to use when initialising new ROI objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.add_roi">
<span class="sig-name descname"><span class="pre">add_roi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.add_roi" title="Permalink to this definition"></a></dt>
<dd><p>Add a single ROI with  optional kwargs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.add_rois">
<span class="sig-name descname"><span class="pre">add_rois</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.add_rois" title="Permalink to this definition"></a></dt>
<dd><p>Add additional ROIs from source(s).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.clone_attrs">
<span class="sig-name descname"><span class="pre">clone_attrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_rois</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_roi_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.clone_attrs" title="Permalink to this definition"></a></dt>
<dd><p>Assign all attributes of &lt;self&gt; to another object, &lt;obj&gt;, ensuring
that ROIs are copied if copy_rois=True.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.filter_rois">
<span class="sig-name descname"><span class="pre">filter_rois</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.filter_rois" title="Permalink to this definition"></a></dt>
<dd><p>Keep only the ROIs in the to_keep list and remove any in the
to_remove list.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>to_keep<span class="classifier">list, default=None</span></dt><dd><p>List of names of ROIs to keep in the copied StructureSet; all 
others will be removed. These names can also contain wildcards
with the ‘*’ symbol.</p>
</dd>
<dt>to_remove<span class="classifier">list, default=None</span></dt><dd><p>List of names of ROIs to remove from the copied StructureSet; all 
others will be removed. These names can also contain wildcards
with the ‘*’ symbol. Applied after filtering with &lt;to_keep&gt;.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.filtered_copy">
<span class="sig-name descname"><span class="pre">filtered_copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_renamed_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_roi_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.filtered_copy" title="Permalink to this definition"></a></dt>
<dd><p>Create a copy of this structure set with ROIs optionally
renamed or filtered. Returns a new StructureSet object.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>names<span class="classifier">dict, default=None</span></dt><dd><p>Dictionary of names for renaming ROIs, where the keys are new 
names and values are lists of possible names of ROIs that should
be assigned the new name. These names can also contain wildcards
with the ‘*’ symbol.</p>
</dd>
<dt>name<span class="classifier">str, default=None</span></dt><dd><p>Name for the returned StructureSet.</p>
</dd>
<dt>to_keep<span class="classifier">list, default=None</span></dt><dd><p>List of names of ROIs to keep in the copied StructureSet; all 
others will be removed. These names can also contain wildcards
with the ‘*’ symbol. Applied after renaming with &lt;names&gt;.</p>
</dd>
<dt>to_remove<span class="classifier">list, default=None</span></dt><dd><p>List of names of ROIs to remove from the copied StructureSet; all 
others will be removed. These names can also contain wildcards
with the ‘*’ symbol. Applied after renaming with &lt;names&gt; and 
filtering with &lt;to_keep&gt;.</p>
</dd>
<dt>keep_renamed_only<span class="classifier">bool, default=False</span></dt><dd><p>If True, any ROIs that do not get renamed will be removed from
the StructureSet.</p>
</dd>
<dt>copy_roi_data<span class="classifier">bool, default=True</span></dt><dd><p>If True, the ROIs in the returned StructureSet will contain
copies of the data from the original StructureSet. Otherwise,
the new ROIs will contain references to the same data, e.g. the 
same numpy ndarray object for the mask/same dict for the contours.
Only used if &lt;copy_rois&gt; is True</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.find_most_populated_slice">
<span class="sig-name descname"><span class="pre">find_most_populated_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.find_most_populated_slice" title="Permalink to this definition"></a></dt>
<dd><p>Find the index of the slice with the most ROIs on it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_centre">
<span class="sig-name descname"><span class="pre">get_centre</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_centre" title="Permalink to this definition"></a></dt>
<dd><p>Get 3D centre of the area covered by ROIs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_comparison">
<span class="sig-name descname"><span class="pre">get_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consensus_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'majority'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_comparison" title="Permalink to this definition"></a></dt>
<dd><p>Get pandas DataFrame of comparison metrics vs a single ROI or
another StructureSet.</p>
<p><strong>Parameters</strong>:</p>
<dl>
<dt>other<span class="classifier">ROI/StructureSet, default=None</span></dt><dd><p>Object to compare own ROIs with. Can either be a single ROI, which
will be compared to every ROI in this structure set, or another
structure set. If None, a comparison will be performed between the 
ROIs of this structure set.</p>
</dd>
<dt>comp_type<span class="classifier">str, default=”auto”</span></dt><dd><p>Method for selecting which ROIs should be compared if other=None
or other is a StructureSet. Options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>“all” : compare every ROI in one structure set to every ROI</p></li>
</ul>
<p>in the other (removing comparisons of an ROI to itself).
- “by_name” : compare every ROI in one structure set
to every ROI in the other with the same name. Useful when
comparing two structure sets containing ROIs with the same
names.
- “consensus” : if other=None, compare each ROI in this 
structure set to the consensus of all other ROIs; otherwise,
compare each ROI in this structure set to the consensus of
all ROIs in the other structure set. Consensus type is set via
the consensus_type argument.
- “auto” : if other=None, use “all” comparison. Otherwise, 
first look for any ROIs with matching names; if at least one 
matching pair is found, compare via the “by_name” comparison 
type. If no matches are found, compare via the “all” comparison 
type.</p>
</div></blockquote>
</dd>
<dt>consensus_type<span class="classifier">str, default=”majority vote”</span></dt><dd><p>Method for calculating consensus of ROIs if using the “consensus”
comparison type. Options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>“majority” : use majority vote of ROIs (i.e. voxels where</p></li>
</ul>
<p>at least half of the ROIs exist).
- “overlap” : use overlap of ROIs.
- “sum” : use sum of ROIs.
- “staple” : use the STAPLE algorithm to calculate consensus.</p>
</div></blockquote>
</dd>
<dt><a href="#id13"><span class="problematic" id="id14">`</span></a><a href="#id15"><span class="problematic" id="id16">**</span></a><a href="#id17"><span class="problematic" id="id18">`</span></a>kwargs<span class="classifier"></span></dt><dd><p>Keyword args to pass to ROI.get_comparison(). See 
ROI.get_comparison() documentation for details.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_comparison_pairs">
<span class="sig-name descname"><span class="pre">get_comparison_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consensus_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'majority'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_comparison_pairs" title="Permalink to this definition"></a></dt>
<dd><p>Get list of ROIs to compare with one another.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_consensus">
<span class="sig-name descname"><span class="pre">get_consensus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">consensus_type</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_consensus" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_dicom_dataset">
<span class="sig-name descname"><span class="pre">get_dicom_dataset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_dicom_dataset" title="Permalink to this definition"></a></dt>
<dd><p>Return pydicom.dataset.FileDataset object associated with this Image,
if loaded from dicom; otherwise, return None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_dummy_image">
<span class="sig-name descname"><span class="pre">get_dummy_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_dummy_image" title="Permalink to this definition"></a></dt>
<dd><p>Make a dummy image that covers the area spanned by all ROIs in this
StructureSet. Returns an Image object.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>voxel_size<span class="classifier">list, default=None</span></dt><dd><p>Voxel size in mm in the dummy image in the x-y plane, given as 
[vx, vy]. If &lt;shape&gt; and &lt;voxel_size&gt; are both None, voxel sizes of
[1, 1] will be used by default. The voxel size in the z direction 
will be taken from the minimum distance between slice positions in 
the x-y contours dictionary.</p>
</dd>
<dt>shape<span class="classifier">list, default=None</span></dt><dd><p>Number of voxels in the dummy image in the x-y plane, given as
[nx, ny]. Only used if &lt;voxel_size&gt; is None. 
The number of voxels in the z direction will be taken from the 
number of slices in the x-y contours dictionary.</p>
</dd>
<dt>fill_val<span class="classifier">int/float, default=1e4</span></dt><dd><p>Value with which the voxels in the dummy image should be filled.</p>
</dd>
<dt>buffer<span class="classifier">int, default=1</span></dt><dd><p>Number of empty buffer voxels to add outside the ROI in each
direction.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_extent">
<span class="sig-name descname"><span class="pre">get_extent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_extent" title="Permalink to this definition"></a></dt>
<dd><p>Get min and max extent of all ROIs in the StructureSet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_geometry">
<span class="sig-name descname"><span class="pre">get_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_as_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_geometry" title="Permalink to this definition"></a></dt>
<dd><p>Get pandas DataFrame of geometric properties for all ROIs.
If no sl/idx/pos is given, the central slice of each ROI will be used.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_length">
<span class="sig-name descname"><span class="pre">get_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_length" title="Permalink to this definition"></a></dt>
<dd><p>Get length covered by ROIs along an axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_majority_vote">
<span class="sig-name descname"><span class="pre">get_majority_vote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_majority_vote" title="Permalink to this definition"></a></dt>
<dd><p>Get ROI object representing the majority vote combination of ROIs in 
this structure set. If &lt;exclude&gt; is set to a string, the ROI with that 
name will be excluded from the calculation.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If False and majority vote ROI has already been created, the 
previously computed ROI will be returned. If Force=True, the 
majority vote ROI will be recreated.</p>
</dd>
<dt>exclude<span class="classifier">str, default=None</span></dt><dd><p>If set to a string, the first ROI in self.rois with that name will 
be excluded from the combination. This may be useful if comparison 
of a single ROI with the consensus of all others is desired.</p>
</dd>
<dt><a href="#id19"><span class="problematic" id="id20">`</span></a><a href="#id21"><span class="problematic" id="id22">**</span></a><a href="#id23"><span class="problematic" id="id24">`</span></a>kwargs :</dt><dd><p>Extra keyword arguments to pass to the creation of the ROI object
representing the combination.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_mid_idx">
<span class="sig-name descname"><span class="pre">get_mid_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_mid_idx" title="Permalink to this definition"></a></dt>
<dd><p>Return the array index of the slice that contains the most ROIs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_overlap">
<span class="sig-name descname"><span class="pre">get_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_overlap" title="Permalink to this definition"></a></dt>
<dd><p>Get ROI object representing the overlap of ROIs in this 
structure set. If &lt;exclude&gt; is set to a string, the ROI with that name 
will be excluded from the calculation.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If False and overlap ROI has already been created, the 
previously computed ROI will be returned. If Force=True, the 
overlap ROI will be recreated.</p>
</dd>
<dt>exclude<span class="classifier">str, default=None</span></dt><dd><p>If set to a string, the first ROI in self.rois with that name will 
be excluded from the combination. This may be useful if comparison 
of a single ROI with the consensus of all others is desired.</p>
</dd>
<dt><a href="#id25"><span class="problematic" id="id26">`</span></a><a href="#id27"><span class="problematic" id="id28">**</span></a><a href="#id29"><span class="problematic" id="id30">`</span></a>kwargs :</dt><dd><p>Extra keyword arguments to pass to the creation of the ROI object
representing the combination.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_roi">
<span class="sig-name descname"><span class="pre">get_roi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_roi" title="Permalink to this definition"></a></dt>
<dd><p>Get an ROI with a specific name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_roi_dict">
<span class="sig-name descname"><span class="pre">get_roi_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_roi_dict" title="Permalink to this definition"></a></dt>
<dd><p>Get dict of ROI names and objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_roi_names">
<span class="sig-name descname"><span class="pre">get_roi_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_roi_names" title="Permalink to this definition"></a></dt>
<dd><p>Get list of names of ROIs in this structure set. If &lt;original&gt; is True,
get the original names of the ROIs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_rois">
<span class="sig-name descname"><span class="pre">get_rois</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_rois" title="Permalink to this definition"></a></dt>
<dd><p>Get list of ROI objects If &lt;names&gt; is given, only the ROIs with
those names will be returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_rois_wildcard">
<span class="sig-name descname"><span class="pre">get_rois_wildcard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wildcard</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_rois_wildcard" title="Permalink to this definition"></a></dt>
<dd><p>Return list of ROIs matching a wildcard expression.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_staple">
<span class="sig-name descname"><span class="pre">get_staple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_staple" title="Permalink to this definition"></a></dt>
<dd><p>Get ROI object representing the STAPLE combination of ROIs in this 
structure set. If &lt;exclude&gt; is set to a string, the ROI with that name 
will be excluded from the calculation.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If False and STAPLE ROI has already been created, the 
previously computed ROI will be returned. If Force=True, the 
STAPLE ROI will be recreated.</p>
</dd>
<dt>exclude<span class="classifier">str, default=None</span></dt><dd><p>If set to a string, the first ROI in self.rois with that name will 
be excluded from the combination. This may be useful if comparison 
of a single ROI with the consensus of all others is desired.</p>
</dd>
<dt><a href="#id31"><span class="problematic" id="id32">`</span></a><a href="#id33"><span class="problematic" id="id34">**</span></a><a href="#id35"><span class="problematic" id="id36">`</span></a>kwargs :</dt><dd><p>Extra keyword arguments to pass to the creation of the ROI object
representing the combination.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.get_sum">
<span class="sig-name descname"><span class="pre">get_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.get_sum" title="Permalink to this definition"></a></dt>
<dd><p>Get ROI object representing the sum of ROIs in this structure set. 
If &lt;exclude&gt; is set to a string, the ROI with that name will be 
excluded from the calculation.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If False and sum ROI has already been created, the 
previously computed ROI will be returned. If Force=True, the 
sum ROI will be recreated.</p>
</dd>
<dt>exclude<span class="classifier">str, default=None</span></dt><dd><p>If set to a string, the first ROI in self.rois with that name will 
be excluded from the combination. This may be useful if comparison 
of a single ROI with the consensus of all others is desired.</p>
</dd>
<dt><a href="#id37"><span class="problematic" id="id38">`</span></a><a href="#id39"><span class="problematic" id="id40">**</span></a><a href="#id41"><span class="problematic" id="id42">`</span></a>kwargs :</dt><dd><p>Extra keyword arguments to pass to the creation of the ROI object
representing the combination.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.load" title="Permalink to this definition"></a></dt>
<dd><p>Load structure set from source(s). If None, will load from own
self.sources.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre_on_roi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_as</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lower</span> <span class="pre">left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consensus_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_from_consensus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consensus_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consensus_linewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.plot" title="Permalink to this definition"></a></dt>
<dd><p>Plot the ROIs in this structure set.</p>
<p>If consensus_type is set to any of ‘majority’, ‘sum’, ‘overlap’, or ‘staple’,
the conensus contour will be plotted rather than individual ROIs. If
‘exclude_from_consensus’ is set to the name of an ROI, that ROI will
be excluded from the consensus calculation and plotted individually.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.plot_comparisons">
<span class="sig-name descname"><span class="pre">plot_comparisons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.plot_comparisons" title="Permalink to this definition"></a></dt>
<dd><p>Plot comparison pairs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.plot_surface_distances">
<span class="sig-name descname"><span class="pre">plot_surface_distances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.plot_surface_distances" title="Permalink to this definition"></a></dt>
<dd><p>Plot surface distances for all ROI pairs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.print_rois">
<span class="sig-name descname"><span class="pre">print_rois</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.print_rois" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.rename_rois">
<span class="sig-name descname"><span class="pre">rename_rois</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_match_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_renamed_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.rename_rois" title="Permalink to this definition"></a></dt>
<dd><p>Rename ROIs in this StructureSet.
&lt;first_match_only&gt; is True, only the first ROI matching the
possible matches will be renamed.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>names<span class="classifier">dict, default=None</span></dt><dd><p>Dictionary of names for renaming ROIs, where the keys are new 
names and values are lists of possible names of ROIs that should
be assigned the new name. These names can also contain wildcards
with the ‘*’ symbol.</p>
</dd>
<dt>first_match_only<span class="classifier">bool, default=True</span></dt><dd><p>If True, only the first ROI matching the possible names in the 
values of &lt;names&gt; will be renamed; this prevents name duplication
if multiple ROIs in the StructureSet are a match.</p>
</dd>
<dt>keep_renamed_only<span class="classifier">bool, default=False</span></dt><dd><p>If True, any ROIs that do not get renamed will be removed from
the StructureSet.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reload structure set from original source(s).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.set_image">
<span class="sig-name descname"><span class="pre">set_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.set_image" title="Permalink to this definition"></a></dt>
<dd><p>Set image for self and all ROIs. Image.add_structure_set(self) will
also be called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fine'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_contours</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.transform" title="Permalink to this definition"></a></dt>
<dd><p>Apply three-dimensional similarity transform to structure-set ROIs.</p>
<p>If the transform corresponds to a translation and/or rotation
about the z-axis, and either the roi source type is “dicom”
or force-contours is True, the transform is applied to contour
points and the roi mask is set as unloaded.  Otherwise the transform
is applied to the mask and contours are set as unloaded.</p>
<p>The transform is applied in the order: translation, scaling,
rotation.  The latter two are about the centre coordinates.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>force_contours<span class="classifier">bool, default=False</span></dt><dd><p>If True, and the transform corresponds to a translation
and/or rotation about the z-axis, apply transform to contour
points independently of the original data source.</p>
</dd>
<dt>names<span class="classifier">list/None, default=False</span></dt><dd><p>List of ROIs to which transform is to be applied.  If None,
transform is applied to all ROIs.</p>
</dd>
</dl>
<p>For other parameters, see documentation for
skrt.image.Image.transform().  Note that the <code class="docutils literal notranslate"><span class="pre">order</span></code>
parameter isn’t available for structure-set transforms - a value of 0
is used always.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.view">
<span class="sig-name descname"><span class="pre">view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.view" title="Permalink to this definition"></a></dt>
<dd><p>View the StructureSet.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>include_image<span class="classifier">bool, default=True</span></dt><dd><p>If True and this StructureSet has an associated image 
(in self.image), the image will be displayed behind the ROIs.</p>
</dd>
<dt>voxel_size<span class="classifier">list, default=[1, 1]</span></dt><dd><p>If the StructureSet does not have an associated image and has ROIs 
described only by contours, this will be the voxel sizes used in 
the x-y direction when converting ROIs to masks if a mask plot 
type is selected.</p>
</dd>
<dt>buffer<span class="classifier">int, default=5</span></dt><dd><p>If the StructureSet does not have an associated image and has ROIs
described only by contours, this will be the number of buffer voxels 
(i.e. whitespace) displayed around the extent of the ROIs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSet.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patient_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_extras</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSet.write" title="Permalink to this definition"></a></dt>
<dd><p>Write to a dicom StructureSet file or directory of nifti files.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.structures.StructureSetIterator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">StructureSetIterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure_set</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSetIterator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.structures.StructureSetIterator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure_set</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.StructureSetIterator.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.contour_to_polygon">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">contour_to_polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contour</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.contour_to_polygon" title="Permalink to this definition"></a></dt>
<dd><p>Convert a list of contour points to a Shapely polygon, ensuring that 
the polygon is valid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.create_dummy_image">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">create_dummy_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extents</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_thickness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.create_dummy_image" title="Permalink to this definition"></a></dt>
<dd><p>Make a dummy image that covers the area spanned by &lt;extents&gt; plus a 
buffer.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>extents<span class="classifier">list</span></dt><dd><p>List of [min, max] extents in mm along each of the three axes in 
order [x, y, z].</p>
</dd>
<dt>slice_thickness<span class="classifier">float</span></dt><dd><p>Slice thickness in mm.</p>
</dd>
<dt>voxel_size<span class="classifier">list, default=None</span></dt><dd><p>Voxel size in mm in the dummy image in the x-y plane, given as 
[vx, vy]. If &lt;shape&gt; and &lt;voxel_size&gt; are both None, voxel sizes of
[1, 1] will be used by default. The voxel size in the z direction 
will be taken from the minimum distance between slice positions in 
the x-y contours dictionary.</p>
</dd>
<dt>shape<span class="classifier">list, default=None</span></dt><dd><p>Number of voxels in the dummy image in the x-y plane, given as
[nx, ny]. Only used if &lt;voxel_size&gt; is None. 
The number of voxels in the z direction will be taken from the 
number of slices in the x-y contours dictionary.</p>
</dd>
<dt>fill_val<span class="classifier">int/float, default=1e4</span></dt><dd><p>Value with which the voxels in the dummy image should be filled.</p>
</dd>
<dt>buffer<span class="classifier">float, default=1</span></dt><dd><p>Buffer amount of whitespace in mm to add outside the ROI in each 
direction.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.create_majority_vote">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">create_majority_vote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rois</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.create_majority_vote" title="Permalink to this definition"></a></dt>
<dd><p>Create majority vote ROI from list of ROIs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.create_roi_overlap">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">create_roi_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rois</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.create_roi_overlap" title="Permalink to this definition"></a></dt>
<dd><p>Create ROI from overlap of list of ROIs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.create_roi_sum">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">create_roi_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rois</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.create_roi_sum" title="Permalink to this definition"></a></dt>
<dd><p>Create ROI from sum of list of ROIs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.create_staple">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">create_staple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rois</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.create_staple" title="Permalink to this definition"></a></dt>
<dd><p>Create STAPLE ROI from list of ROIs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.dicom_dataset_to_structure_set">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">dicom_dataset_to_structure_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.dicom_dataset_to_structure_set" title="Permalink to this definition"></a></dt>
<dd><p>Convert an existing image dicom dataset to a StructureSet dataset.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.get_dicom_sequence">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">get_dicom_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.get_dicom_sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.load_rois_dicom">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">load_rois_dicom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.load_rois_dicom" title="Permalink to this definition"></a></dt>
<dd><p>Load ROI(s) from a dicom structure set file. &lt;name&gt; can be a single
name or list of names of ROIs to load.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.polygon_to_contour">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">polygon_to_contour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polygon</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.polygon_to_contour" title="Permalink to this definition"></a></dt>
<dd><p>Convert a Shapely polygon to a list of contour points.</p>
<p><strong>Parameter:</strong></p>
<dl class="simple">
<dt>polygon: shapely.geometry.polygon</dt><dd><p>Shapely polygon.</p>
</dd>
</dl>
<p>z_polygon: z coordinate at which polygon is defined.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.structures.write_structure_set_dicom">
<span class="sig-prename descclassname"><span class="pre">skrt.structures.</span></span><span class="sig-name descname"><span class="pre">write_structure_set_dicom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rois</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patient_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.structures.write_structure_set_dicom" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="skrt.simulation.html" class="btn btn-neutral float-left" title="skrt.simulation module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="voxtox_modules.html" class="btn btn-neutral float-right" title="voxtox" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>