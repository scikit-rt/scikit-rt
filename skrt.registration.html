<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>skrt.registration module &mdash; Scikit-rt 0.4.9 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="skrt.segmentation module" href="skrt.segmentation.html" />
    <link rel="prev" title="skrt.patient module" href="skrt.patient.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Scikit-rt
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Help topics:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="support.html">Documentation and support</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Scikit-rt by examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage and data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="images.html">Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="structures.html">Regions of interest (ROIs) and structure sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="patients_and_studies.html">Patients and studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulation.html">Synthetic data</a></li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Image registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="keyboard_shortcuts.html">Keyboard shortcuts for pop-out interactive viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy.html">Legacy code</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="skrt_modules.html">skrt</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="skrt.html">skrt package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="skrt.html#subpackages">Subpackages</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="skrt.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="skrt.application.html">skrt.application module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.core.html">skrt.core module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.dicom_writer.html">skrt.dicom_writer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.dose.html">skrt.dose module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.image.html">skrt.image module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.multi.html">skrt.multi module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.patient.html">skrt.patient module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">skrt.registration module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.segmentation.html">skrt.segmentation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.simulation.html">skrt.simulation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="skrt.structures.html">skrt.structures module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skrt.html#module-skrt">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="voxtox_modules.html">voxtox</a></li>
<li class="toctree-l1"><a class="reference internal" href="import_analysis_modules.html">import_analysis</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Scikit-rt</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="skrt_modules.html">skrt</a></li>
          <li class="breadcrumb-item"><a href="skrt.html">skrt package</a></li>
      <li class="breadcrumb-item active">skrt.registration module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/skrt.registration.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-skrt.registration">
<span id="skrt-registration-module"></span><h1>skrt.registration module<a class="headerlink" href="#module-skrt.registration" title="Permalink to this heading"></a></h1>
<p>Classes and functions relating to image registration.</p>
<p>The following classes are defined:</p>
<ul class="simple">
<li><p>Registration : Class for handling image registration.</p></li>
<li><p>DeformationField : Class representing a deformation field.</p></li>
<li><p>Grid : Class representing a grid.</p></li>
<li><p>Jacobian : Class representing a Jacobian determinant.</p></li>
<li><p>RegistrationEngine : Base class for interfacing to a registration engine.</p></li>
<li><p>Elastix: Class interfacing to elastix registration engine.</p></li>
<li><p>NiftyReg: Class interfacing to NiftyReg registration engine.</p></li>
</ul>
<p>The following functions are defined:</p>
<ul class="simple">
<li><p>add_engine() : Decorator for adding RegistrationEngine subclasses
to skrt.registartion.engines dictionary.</p></li>
<li><p>adjust_parameters() : Modify contents of a registration parameter file.</p></li>
<li><p>get_data_dir() : Return path to data directory within the scikit-rt package.</p></li>
<li><p>get_default_pfiles() : Get list of default parameter files.</p></li>
<li><p>get_default_pfiles_dir() :  Return path to directory containing
default parameter files for specified engine.</p></li>
<li><p>get_engine_cls() : Get registration-engine class, given engine name
or software directory.</p></li>
<li><p>get_image_transform_parameters() : Define Elastix registration-independent
parameters for transforms to the space of a specified image.</p></li>
<li><p>get_jacobian_colormap() : Return custom colour map, for highlighting
features of Jacobian determinant.</p></li>
<li><p>prepend_path() : Prepend path to environment variable.</p></li>
<li><p>read_parameters() : Get dictionary of parameters from a registration
parameter file.</p></li>
<li><p>set_elastix_dir() :  Perform environment setup for using elastix software.</p></li>
<li><p>set_engine_dir() : Perform environment setup for using registration software.</p></li>
<li><p>shift_translation_parameters() : Add offsets to the translation parameters
in a registration parameter file.</p></li>
<li><p>write_parameters() : Write dictionary of parameters to a registration
parameter file.</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="skrt.registration.DeformationField">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">DeformationField</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.DeformationField" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skrt.core.html#skrt.core.PathData" title="skrt.core.PathData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PathData</span></code></a></p>
<p>Class representing a deformation field.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.DeformationField.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.DeformationField.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialise from a deformation-field source.</p>
<dl class="simple">
<dt>path<span class="classifier">str/array/Nifti1Image, default= “”</span></dt><dd><p>Data source.  Possibilities are the same as for skrt.image.Image,
but should correspond to arrays of dimension 4.
Otherwise, it can be loaded later with the load() method.</p>
</dd>
<dt>load<span class="classifier">bool, default=True</span></dt><dd><p>If True, the deformation-field data will be immediately loaded.</p>
</dd>
<dt>signs<span class="classifier">tuple, default=None</span></dt><dd><p>Three element tuple of ints, indicating the signs to be applied to
the (x, y, z) components of the deformation field, allowing
for different conventions.  If None, components are taken to
be as read from source.</p>
</dd>
<dt>image<span class="classifier">skrt.image.Image, default=None</span></dt><dd><p>Image object to be associated with the deformation field.</p>
</dd>
<dt>kwargs<span class="classifier">dict</span></dt><dd><p>Dictionary of keyword-value pairs, passed to the
skrt.image.Image constructor when creating a representation
of the deformation field.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.DeformationField.convert_spacing">
<span class="sig-name descname"><span class="pre">convert_spacing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_in_mm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.DeformationField.convert_spacing" title="Permalink to this definition"></a></dt>
<dd><p>Convert grid spacing in mm or voxels to list containing grid spacing 
in voxels in each dimension.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.DeformationField.get_displacement_image">
<span class="sig-name descname"><span class="pre">get_displacement_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">displacement</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'3d'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.DeformationField.get_displacement_image" title="Permalink to this definition"></a></dt>
<dd><p>Get skrt.dose.ImageOverlay object representing point displacements.</p>
<p><strong>Parameter:</strong></p>
<dl class="simple">
<dt>displacement<span class="classifier">str, default=”3d”</span></dt><dd><p>Point displacement to be represented:
- ‘x’: displacement along x-axis;
- ‘y’: displacement along y-axis;
- ‘z’: displacement along z-axis;
- ‘3d’: magnitude of 3d displacement.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.DeformationField.get_slice">
<span class="sig-name descname"><span class="pre">get_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_in_mm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.DeformationField.get_slice" title="Permalink to this definition"></a></dt>
<dd><p>Get voxel positions and displacement vectors on a 2D slice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.DeformationField.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.DeformationField.load" title="Permalink to this definition"></a></dt>
<dd><p>Load deformation-field data from source. If already loaded and &lt;force&gt; 
is False, nothing will happen.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>force<span class="classifier">bool, default=True</span></dt><dd><p>If True, the deformation-field data will be reloaded from source
even if it has previously been loaded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.DeformationField.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x-y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quiver'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom_centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_as</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_in_mm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_xlabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_ylabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_xticks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_yticks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_xtick_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_ytick_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotate_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">major_ticks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor_ticks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ticks_all_sides</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_axis_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">mpl_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.DeformationField.plot" title="Permalink to this definition"></a></dt>
<dd><p>Plot deformation field.</p>
<p>For explanation of parameters, see documentation for
skrt.better_viewer.BetterViewer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.DeformationField.view">
<span class="sig-name descname"><span class="pre">view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.DeformationField.view" title="Permalink to this definition"></a></dt>
<dd><p>View the deformation field.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>include_image<span class="classifier">bool, default=True</span></dt><dd><p>If True, the image associated with the deformation field will
be displayed as underlay.</p>
</dd>
</dl>
<p>Any <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> will be passed to BetterViewer initialisation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.registration.Elastix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">Elastix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skrt.registration.RegistrationEngine" title="skrt.registration.RegistrationEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistrationEngine</span></code></a></p>
<p>Class interfacing to elastix registration engine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Create RegistrationEngine instance.</p>
<p><strong>Parameters:</strong>
path : str/pathlib.Path, default=None</p>
<blockquote>
<div><p>Path to directory containing registration-engine software.</p>
</div></blockquote>
<p>force : bool, default=False
If False, modify environment based on &lt;path&gt; only if registration
software can’t be located in the existing environment.  If True, modify
environment based on &lt;path&gt; in all cases.</p>
<dl class="simple">
<dt>log_level: str/int/None, default=None</dt><dd><p>Severity level for event logging.  If the value is None,
log_level is set to the value of skrt.core.Defaults().log_level.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.adjust_parameters">
<span class="sig-name descname"><span class="pre">adjust_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.adjust_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Modify contents of a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile<span class="classifier">str/patlib.Path</span></dt><dd><p>Path to a registration parameter file.</p>
</dd>
<dt>outfile<span class="classifier">str/pathlib.Path</span></dt><dd><p>Path to output file.</p>
</dd>
<dt>params<span class="classifier">dict</span></dt><dd><p>Dictionary of parameter names and new values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.define_translation">
<span class="sig-name descname"><span class="pre">define_translation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dxdydz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.define_translation" title="Permalink to this definition"></a></dt>
<dd><p>Define translation parameters to be passed to registration engine.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>dxdydz<span class="classifier">tuple/list</span></dt><dd><p>Three-element tuple or list, giving translations in order
(dx, dy, dz).  Translations correspond to the amounts added
in mapping a point from fixed image to moving image.</p>
</dd>
<dt>fixed_image<span class="classifier">skrt.image.Image, default=None</span></dt><dd><p>Image towards which moving image is to be warped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.Elastix.exes">
<span class="sig-name descname"><span class="pre">exes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['elastix',</span> <span class="pre">'transformix']</span></em><a class="headerlink" href="#skrt.registration.Elastix.exes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.get_def_cmd">
<span class="sig-name descname"><span class="pre">get_def_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.get_def_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for computing deformation field.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for output deformation field.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file for which deformation
field is to be computed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.get_jac_cmd">
<span class="sig-name descname"><span class="pre">get_jac_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.get_jac_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for computing Jacobian determinant.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for output deformation field.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file for which deformation
field is to be computed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.get_registration_cmd">
<span class="sig-name descname"><span class="pre">get_registration_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_mask_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_mask_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.get_registration_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for performing image registration.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>moving_path<span class="classifier">str</span></dt><dd><p>Path to moving image.</p>
</dd>
<dt>fixed_mask_path<span class="classifier">str</span></dt><dd><p>Path to mask for fixed image.</p>
</dd>
<dt>moving_mask_path<span class="classifier">str</span></dt><dd><p>Path to mask for moving image.</p>
</dd>
<dt>pfile<span class="classifier">str</span></dt><dd><p>Path to registration paramter file.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for registration output.</p>
</dd>
<dt>tfile<span class="classifier">str, default=None</span></dt><dd><p>Path to registration transform file from previous registration
step.  If None, no previous registration step is it be considered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.get_roi_params">
<span class="sig-name descname"><span class="pre">get_roi_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.get_roi_params" title="Permalink to this definition"></a></dt>
<dd><p>Get default parameters to be used when transforming ROI mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.get_transform_cmd">
<span class="sig-name descname"><span class="pre">get_transform_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.get_transform_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for applying registration transform.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>moving_path<span class="classifier">str</span></dt><dd><p>Path to moving image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for transform output.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file to be applied.</p>
</dd>
<dt>params: dict, default=None</dt><dd><p>Dictionary of parameter-value pairs defining modifications
to the registration transform file prior to running the
transform command.  The original transform file is left
unaltered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.get_transform_strategies">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_transform_strategies</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.get_transform_strategies" title="Permalink to this definition"></a></dt>
<dd><p>Get list of available strategies for applying registration transform.</p>
<p>Possible strategies are:</p>
<ul class="simple">
<li><p>“pull”: transform applied to pull image or mask from the reference
frame of the moving image to the reference frame of the fixed image;</p></li>
<li><p>“push”: transform applied to push points from the reference frame
of the fixed image to the reference frame of the moving image.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.read_parameters">
<span class="sig-name descname"><span class="pre">read_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.read_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Get dictionary of parameters from a registration parameter file.</p>
<p><strong>Parameter:</strong>
infile: str/pathlib.Path</p>
<blockquote>
<div><p>Path to registration parameter file.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.set_exe_paths">
<span class="sig-name descname"><span class="pre">set_exe_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.set_exe_paths" title="Permalink to this definition"></a></dt>
<dd><p>Set path(s)s to registration-engine executable(s).</p>
<p><strong>Parameter:</strong></p>
<dl class="simple">
<dt>path<span class="classifier">str/pathlib.Path, default=None</span></dt><dd><p>Path to directory containing registration-engine executable(s).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.shift_translation_parameters">
<span class="sig-name descname"><span class="pre">shift_translation_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.shift_translation_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Add offsets to the translation parameters in a registration
transform file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile: str</dt><dd><p>Path to input transform file.</p>
</dd>
<dt>dx, dy, dz: int, default=0</dt><dd><p>Amounts by which to increase translation parameters, along
x, y, z directions.</p>
</dd>
<dt>outfile: str, default=None</dt><dd><p>Path to output parameter file.  If None, overwrite input
parameter file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.Elastix.transform_log">
<span class="sig-name descname"><span class="pre">transform_log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformix.log'</span></em><a class="headerlink" href="#skrt.registration.Elastix.transform_log" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.Elastix.transform_points_implemented">
<span class="sig-name descname"><span class="pre">transform_points_implemented</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#skrt.registration.Elastix.transform_points_implemented" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Elastix.write_parameters">
<span class="sig-name descname"><span class="pre">write_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Elastix.write_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Write dictionary of parameters to a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>outfile: str/pathlib.Path</dt><dd><p>Path to output file.</p>
</dd>
<dt>params: dict</dt><dd><p>Dictionary of parameters to be written to file.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.registration.Grid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">Grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'green'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Grid" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skrt.dose.html#skrt.dose.ImageOverlay" title="skrt.dose.ImageOverlay"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageOverlay</span></code></a></p>
<p>Class representating a grid.</p>
<p>This is the same as the ImageOverlay class, but sets different
attribute values at instantiation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Grid.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'green'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Grid.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Perform ImageOverlay initialisation, then overwrite
selected attribute values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Grid.view">
<span class="sig-name descname"><span class="pre">view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Grid.view" title="Permalink to this definition"></a></dt>
<dd><p>View the Grid.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.registration.Jacobian">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">Jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skrt.dose.html#skrt.dose.ImageOverlay" title="skrt.dose.ImageOverlay"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageOverlay</span></code></a></p>
<p>Class for representing a Jacobian determinant.</p>
<p>This is the same as the ImageOverlay class, but sets different
attribute values at instantiation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Jacobian.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Jacobian.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Perform ImageOverlay initialisation, then overwrite
selected attribute values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Jacobian.view">
<span class="sig-name descname"><span class="pre">view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Jacobian.view" title="Permalink to this definition"></a></dt>
<dd><p>View the Jacobian determinant.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.registration.Matlab">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">Matlab</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skrt.registration.RegistrationEngine" title="skrt.registration.RegistrationEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistrationEngine</span></code></a></p>
<p>Class interfacing to MATLAB registration engine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.adjust_parameters">
<span class="sig-name descname"><span class="pre">adjust_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.adjust_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Modify contents of a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile<span class="classifier">str/patlib.Path</span></dt><dd><p>Path to a registration parameter file.</p>
</dd>
<dt>outfile<span class="classifier">str/pathlib.Path</span></dt><dd><p>Path to output file.</p>
</dd>
<dt>params<span class="classifier">dict</span></dt><dd><p>Dictionary of parameter names and new values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.define_translation">
<span class="sig-name descname"><span class="pre">define_translation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dxdydz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.define_translation" title="Permalink to this definition"></a></dt>
<dd><p>Define translation parameters to be passed to registration engine.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>dxdydz<span class="classifier">tuple/list</span></dt><dd><p>Three-element tuple or list, giving translations in order
(dx, dy, dz).  Translations correspond to the amounts added
in mapping a point from fixed image to moving image.</p>
</dd>
<dt>fixed_image<span class="classifier">skrt.image.Image, default=None</span></dt><dd><p>Image towards which moving image is to be warped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.Matlab.exes">
<span class="sig-name descname"><span class="pre">exes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['matlabreg']</span></em><a class="headerlink" href="#skrt.registration.Matlab.exes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.get_def_cmd">
<span class="sig-name descname"><span class="pre">get_def_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.get_def_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for computing deformation field.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for output deformation field.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file for which deformation
field is to be computed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.get_jac_cmd">
<span class="sig-name descname"><span class="pre">get_jac_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.get_jac_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for computing Jacobian determinant.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for output deformation field.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file for which deformation
field is to be computed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.get_registration_cmd">
<span class="sig-name descname"><span class="pre">get_registration_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_mask_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_mask_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.get_registration_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for performing image registration.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>moving_path<span class="classifier">str</span></dt><dd><p>Path to moving image.</p>
</dd>
<dt>fixed_mask_path<span class="classifier">str</span></dt><dd><p>Path to mask for fixed image.</p>
</dd>
<dt>moving_mask_path<span class="classifier">str</span></dt><dd><p>Path to mask for moving image.</p>
</dd>
<dt>pfile<span class="classifier">str</span></dt><dd><p>Path to registration paramter file.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for registration output.</p>
</dd>
<dt>tfile<span class="classifier">str, default=None</span></dt><dd><p>Path to registration transform file from previous registration
step.  If None, no previous registration step is it be considered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.get_roi_params">
<span class="sig-name descname"><span class="pre">get_roi_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.get_roi_params" title="Permalink to this definition"></a></dt>
<dd><p>Get default parameters to be used when transforming ROI mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.get_transform_cmd">
<span class="sig-name descname"><span class="pre">get_transform_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.get_transform_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for applying registration transform.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>moving_path<span class="classifier">str</span></dt><dd><p>Path to moving image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for transform output.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file to be applied.</p>
</dd>
<dt>params: dict, default=None</dt><dd><p>Dictionary of parameter-value pairs defining modifications
to the registration transform file prior to running the
transform command.  The original transform file is left
unaltered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.get_transform_strategies">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_transform_strategies</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.get_transform_strategies" title="Permalink to this definition"></a></dt>
<dd><p>Get list of available strategies for applying registration transform.</p>
<p>Possible strategies are:</p>
<ul class="simple">
<li><p>“pull”: transform applied to pull image or mask from the reference
frame of the moving image to the reference frame of the fixed image;</p></li>
<li><p>“push”: transform applied to push points from the reference frame
of the fixed image to the reference frame of the moving image.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.read_affine">
<span class="sig-name descname"><span class="pre">read_affine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.read_affine" title="Permalink to this definition"></a></dt>
<dd><p>Read affine matrix from file.</p>
<p><strong>Parameter:</strong>
infile: str/pathlib.Path</p>
<blockquote>
<div><p>Path to file from which to read affine matrix.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.read_parameters">
<span class="sig-name descname"><span class="pre">read_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.read_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Get dictionary of parameters from a registration parameter file.</p>
<p><strong>Parameter:</strong>
infile: str/pathlib.Path</p>
<blockquote>
<div><p>Path to registration parameter file.</p>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.Matlab.recursive_transform">
<span class="sig-name descname"><span class="pre">recursive_transform</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#skrt.registration.Matlab.recursive_transform" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.set_exe_env">
<span class="sig-name descname"><span class="pre">set_exe_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.set_exe_env" title="Permalink to this definition"></a></dt>
<dd><p>Set environment variables for running MATLAB registration.</p>
<p>MATLAB registration can be run using compiled or uncompiled MATLAB
code.  In both cases, the environment setup can be performed
before or after starting the Python session that runs scikit-rt.</p>
<p><strong>To run compiled MATLAB code:</strong></p>
<ul class="simple">
<li><p>To set environment from scikit-rt:</p>
<ol class="arabic simple">
<li><p>Set skrt.registration.Defaults().matlab_runtime to be the path to
the MATLAB runtime installation directory.</p></li>
<li><p>When creating a skrt.registration.Matlab() instance, pass as the
&lt;path&gt; parameter the path to the directory that contains
the compiled MATLAB application.</p></li>
</ol>
</li>
<li><p>To set environment prior to starting Python:</p>
<ol class="arabic simple">
<li><p>Set platform dependent environment variable for MATLAB runtime:
<a class="reference external" href="https://uk.mathworks.com/help/compiler/mcr-path-settings-for-run-time-deployment.html">https://uk.mathworks.com/help/compiler/mcr-path-settings-for-run-time-deployment.html</a></p></li>
<li><p>Add to PATH variable the path to the directory that contains
the compiled MATLAB application.</p></li>
<li><p>After starting Python and importing scikit-rt, set:
skrt.registration.Defaults().matlab_runtime = True</p></li>
</ol>
</li>
</ul>
<p><strong>To run uncompiled MATLAB code:</strong></p>
<ul class="simple">
<li><p>To set environment from scikit-rt:</p>
<ol class="arabic simple">
<li><p>Set skrt.registration.Defaults().matlab_app to be the
path to the directory that contains the MATLAB executable.</p></li>
<li><p>When creating a skrt.registration.Matlab() instance, pass as the
&lt;path&gt; parameter the path to the directory that contains
the uncompiled MATLAB registration code.</p></li>
</ol>
</li>
<li><p>To set environment prior to starting Python:</p>
<ol class="arabic simple">
<li><p>Add to PATH variable the path to the directory that contains
the MATLAB executable.</p></li>
<li><p>Add to MATLABPATH variable the path to the directory that
contains the uncompiled MATLAB registration code.</p></li>
</ol>
</li>
</ul>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>path<span class="classifier">str/pathlib.Path, default=None</span></dt><dd><p>If skrt.registration.Defaults().matlab_runtime evaluates to
True, this is the path to the directory containing the
compiled MATLAB application for image registration.  Otherwise,
this is the path to the directory that contains the MATLAB
executable.  Ignored if set to None.</p>
</dd>
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If False, modify environment based on &lt;path&gt; only if
registration software can’t be located in the existing
environment.  If True, modify environment based on &lt;path&gt;
in all cases.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.shift_translation_parameters">
<span class="sig-name descname"><span class="pre">shift_translation_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.shift_translation_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Add offsets to the translation parameters in a registration
transform file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile: str</dt><dd><p>Path to input transform file.</p>
</dd>
<dt>dx, dy, dz: int, default=0</dt><dd><p>Amounts by which to increase translation parameters, along
x, y, z directions.</p>
</dd>
<dt>outfile: str, default=None</dt><dd><p>Path to output parameter file.  If None, overwrite input
parameter file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.write_affine">
<span class="sig-name descname"><span class="pre">write_affine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.write_affine" title="Permalink to this definition"></a></dt>
<dd><p>Write affine matrix fo file.</p>
<p><strong>Parameter:</strong>
outfile: str/pathlib.Path</p>
<blockquote>
<div><p>Path to file to which to write affine matrix.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Matlab.write_parameters">
<span class="sig-name descname"><span class="pre">write_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Matlab.write_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Write dictionary of parameters to a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>outfile: str/pathlib.Path</dt><dd><p>Path to output file.</p>
</dd>
<dt>params: dict</dt><dd><p>Dictionary of parameters to be written to file.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">NiftyReg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skrt.registration.RegistrationEngine" title="skrt.registration.RegistrationEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistrationEngine</span></code></a></p>
<p>Class interfacing to NiftyReg registration engine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Create RegistrationEngine instance.</p>
<p><strong>Parameters:</strong>
path : str/pathlib.Path, default=None</p>
<blockquote>
<div><p>Path to directory containing registration-engine software.</p>
</div></blockquote>
<p>force : bool, default=False
If False, modify environment based on &lt;path&gt; only if registration
software can’t be located in the existing environment.  If True, modify
environment based on &lt;path&gt; in all cases.</p>
<dl class="simple">
<dt>log_level: str/int/None, default=None</dt><dd><p>Severity level for event logging.  If the value is None,
log_level is set to the value of skrt.core.Defaults().log_level.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.adjust_parameters">
<span class="sig-name descname"><span class="pre">adjust_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.adjust_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Modify contents of a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile<span class="classifier">str/patlib.Path</span></dt><dd><p>Path to a registration parameter file.</p>
</dd>
<dt>outfile<span class="classifier">str/pathlib.Path</span></dt><dd><p>Path to output file.</p>
</dd>
<dt>params<span class="classifier">dict</span></dt><dd><p>Dictionary of parameter names and new values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.def_signs">
<span class="sig-name descname"><span class="pre">def_signs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(-1,</span> <span class="pre">-1,</span> <span class="pre">1)</span></em><a class="headerlink" href="#skrt.registration.NiftyReg.def_signs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.define_translation">
<span class="sig-name descname"><span class="pre">define_translation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dxdydz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.define_translation" title="Permalink to this definition"></a></dt>
<dd><p>Define translation parameters to be passed to registration engine.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>dxdydz<span class="classifier">tuple/list</span></dt><dd><p>Three-element tuple or list, giving translations in order
(dx, dy, dz).  Translations correspond to the amounts added
in mapping a point from fixed image to moving image.</p>
</dd>
<dt>fixed_image<span class="classifier">skrt.image.Image, default=None</span></dt><dd><p>Image towards which moving image is to be warped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.exes">
<span class="sig-name descname"><span class="pre">exes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['reg_aladin',</span> <span class="pre">'reg_f3d',</span> <span class="pre">'reg_jacobian',</span> <span class="pre">'reg_resample',</span> <span class="pre">'reg_transform']</span></em><a class="headerlink" href="#skrt.registration.NiftyReg.exes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.get_def_cmd">
<span class="sig-name descname"><span class="pre">get_def_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.get_def_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for computing deformation field.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for output deformation field.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file for which deformation
field is to be computed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.get_jac_cmd">
<span class="sig-name descname"><span class="pre">get_jac_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.get_jac_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for computing Jacobian determinant.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for output deformation field.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file for which deformation
field is to be computed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.get_registration_cmd">
<span class="sig-name descname"><span class="pre">get_registration_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_mask_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_mask_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.get_registration_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for performing image registration.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>moving_path<span class="classifier">str</span></dt><dd><p>Path to moving image.</p>
</dd>
<dt>fixed_mask_path<span class="classifier">str</span></dt><dd><p>Path to mask for fixed image.</p>
</dd>
<dt>moving_mask_path<span class="classifier">str</span></dt><dd><p>Path to mask for moving image.</p>
</dd>
<dt>pfile<span class="classifier">str</span></dt><dd><p>Path to registration paramter file.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for registration output.</p>
</dd>
<dt>tfile<span class="classifier">str, default=None</span></dt><dd><p>Path to registration transform file from previous registration
step.  If None, no previous registration step is it be considered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.get_roi_params">
<span class="sig-name descname"><span class="pre">get_roi_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.get_roi_params" title="Permalink to this definition"></a></dt>
<dd><p>Get default parameters to be used when transforming ROI mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.get_transform_cmd">
<span class="sig-name descname"><span class="pre">get_transform_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.get_transform_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for applying registration transform.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>moving_path<span class="classifier">str</span></dt><dd><p>Path to moving image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for transform output.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file to be applied.</p>
</dd>
<dt>params: dict, default=None</dt><dd><p>Dictionary of parameter-value pairs defining modifications
to the registration transform file prior to running the
transform command.  The original transform file is left
unaltered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.get_transform_strategies">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_transform_strategies</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.get_transform_strategies" title="Permalink to this definition"></a></dt>
<dd><p>Get list of available strategies for applying registration transform.</p>
<p>Possible strategies are:</p>
<ul class="simple">
<li><p>“pull”: transform applied to pull image or mask from the reference
frame of the moving image to the reference frame of the fixed image;</p></li>
<li><p>“push”: transform applied to push points from the reference frame
of the fixed image to the reference frame of the moving image.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.read_affine">
<span class="sig-name descname"><span class="pre">read_affine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.read_affine" title="Permalink to this definition"></a></dt>
<dd><p>Read affine matrix from file.</p>
<p><strong>Parameter:</strong>
infile: str/pathlib.Path</p>
<blockquote>
<div><p>Path to file from which to read affine matrix.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.read_parameters">
<span class="sig-name descname"><span class="pre">read_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.read_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Get dictionary of parameters from a registration parameter file.</p>
<p><strong>Parameter:</strong>
infile: str/pathlib.Path</p>
<blockquote>
<div><p>Path to registration parameter file.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.set_exe_paths">
<span class="sig-name descname"><span class="pre">set_exe_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.set_exe_paths" title="Permalink to this definition"></a></dt>
<dd><p>Set path(s)s to registration-engine executable(s).</p>
<p><strong>Parameter:</strong></p>
<dl class="simple">
<dt>path<span class="classifier">str/pathlib.Path, default=None</span></dt><dd><p>Path to directory containing registration-engine executable(s).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.shift_translation_parameters">
<span class="sig-name descname"><span class="pre">shift_translation_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.shift_translation_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Add offsets to the translation parameters in a registration
transform file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile: str</dt><dd><p>Path to input transform file.</p>
</dd>
<dt>dx, dy, dz: int, default=0</dt><dd><p>Amounts by which to increase translation parameters, along
x, y, z directions.</p>
</dd>
<dt>outfile: str, default=None</dt><dd><p>Path to output parameter file.  If None, overwrite input
parameter file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.write_affine">
<span class="sig-name descname"><span class="pre">write_affine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.write_affine" title="Permalink to this definition"></a></dt>
<dd><p>Write affine matrix fo file.</p>
<p><strong>Parameter:</strong>
outfile: str/pathlib.Path</p>
<blockquote>
<div><p>Path to file to which to write affine matrix.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.NiftyReg.write_parameters">
<span class="sig-name descname"><span class="pre">write_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.NiftyReg.write_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Write dictionary of parameters to a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>outfile: str/pathlib.Path</dt><dd><p>Path to output file.</p>
</dd>
<dt>params: dict</dt><dd><p>Dictionary of parameters to be written to file.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.registration.Registration">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">Registration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_alignment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_transform_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capture_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_tmp_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skrt.core.html#skrt.core.Data" title="skrt.core.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a></p>
<p>Class for handling image registration.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_alignment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_transform_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capture_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_tmp_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Load data for an image registration, and run the registration if
auto_seg=True.</p>
<p><strong>Parameters:</strong></p>
<dl>
<dt>path<span class="classifier">str</span></dt><dd><p>Path to directory where the data for this image registration is
stored. Can either be a non-existing directory, in which case
registration will be performed from scratch, or a directory already
containing a fixed and moving image and optionally some registration
steps.  The path shouldn’t contain spaces.  It the path does
contain spaces, these will be replaced with underscores.</p>
</dd>
<dt>fixed<span class="classifier">Image/str, default=None</span></dt><dd><p>Image object representing the fixed image, or a source from which
an Image object can be initialised. Must be set if the directory
at &lt;path&gt; does not already contain a fixed image file called
“fixed.nii.gz”.</p>
</dd>
<dt>moving<span class="classifier">Image/str, default=None</span></dt><dd><p>Image object representing the fixed image, or a source from which
an Image object can be initialised. Must be set if the directory
at &lt;path&gt; does not already contain a moving image file called
“moving.nii.gz”.</p>
</dd>
<dt>fixed_mask<span class="classifier">Image/str, default=None</span></dt><dd><p>Image object representing a mask to be applied to the fixed image,
or a source from which an Image object can be initialised. If
None and an image file ‘fixed_mask.nii.gz’ exists at &lt;path&gt;
then this will be used.  Setting a mask is optional.</p>
</dd>
<dt>moving_mask<span class="classifier">Image/str, default=None</span></dt><dd><p>Image object representing a mask to be applied to the moving image,
or a source from which an Image object can be initialised. If
None and an image file ‘moving_mask.nii.gz’ exists at &lt;path&gt;
then this will be used.  Setting a mask is optional.</p>
</dd>
<dt>pfiles<span class="classifier">str/list/dict, default=None</span></dt><dd><p>Path(s) to parameter file(s) to be used in each step of the
registration. If a list of more than one path, the parameter files
will be used to apply registrations in series, which the output of
each step being used as an initial transformation for the following
step. If None, the Registration will be initialised with no
registration steps and no registration will be performed. If a dict,
the keys will be taken as names for the registration steps and
the values should be the path to the parameter file for that step;
otherwise, the name of the step will be taken from the parameter
filename.</p>
</dd>
<dt>auto<span class="classifier">bool, default=True</span></dt><dd><p>If True, the registration will be performed immediately for all
steps.</p>
</dd>
<dt>overwrite<span class="classifier">bool, default=False</span></dt><dd><p>If True and &lt;path&gt; already contains files, these will be deleted,
meaning that no prior registration results will be loaded.</p>
</dd>
<dt>tfiles<span class="classifier">dict, default=None</span></dt><dd><p>Dictionary of pre-defined transforms, where a key is a
registration step and the associated value is the path to
a pre-defined registration transform.  Transformations
are performed, in the order given in the dictionary,
before any registration step is performed.</p>
</dd>
<dt>initial_alignment<span class="classifier">tuple/dict/str, default=None</span></dt><dd><p>Alignment to be performed before any registration steps
are run.  This can be any of the following:
- a tuple indicating the amounts (dx, dy, dz) by which</p>
<blockquote>
<div><p>a point in the fixed image must be translated to align
with the corresponding point in the moving image;</p>
</div></blockquote>
<ul class="simple">
<li><p>a dictionary specifying parameters and values to be passed
to skrt.image.get_translation_to_align(), which defines
a translation for aligning fixed and moving image;</p></li>
<li><p>one of the strings “_top_”, “_centre_”, “_bottom_”, in which case
skrt.image.get_translation_to align() is called to define
a translationg such that fixed and moving image have
their (x, y) centres aligned, and have z positions aligned at
image top, centre or bottom;</p></li>
<li><p>a string specifying the name of an ROI associated with both
fixed and moving image, with ROI centroids to be aligned;</p></li>
<li><p>a tuple of strings specifying names of an ROI associated with
the fixed image and an ROI associated with the moving image,
with ROI centroids to be aligned;</p></li>
<li><p>a tuple specifying ROI name and relative position along z-axis
on which to align (0 most-inferior slice of ROI, 1 most-superior
slice), with the same ROI name and relative position used for
fixed and moving image;</p></li>
<li><p>a tuple of tuples specifying ROI name and relative position
along z-axis on which to align, with one tuple for the fixed
image and one tuple for the moving image.</p></li>
</ul>
<p>The result of the initial alignment is stored as the first
entry of &lt;self.tfiles”, with key &lt;initial_alignment_name&gt;.  If
&lt;initial_alignment&gt; is set to None, no initial alignment
is performed.</p>
</dd>
<dt>initial_transform_name<span class="classifier">str, default=None</span></dt><dd><p>Name to be used in registration steps for transform corresponding
to &lt;initial_alignment&gt;.  If None, the name ‘initial_alignment’
is used.</p>
</dd>
<dt>capture_output<span class="classifier">bool, default=False</span></dt><dd><p>If True, capture to stdout messages from performing
registration and transformation.  This suppresses
informational messages to screen, but doesn’t suppress error
messages.</p>
</dd>
<dt>log_level: str/int/None, default=None</dt><dd><p>Severity level for event logging.  If the value is None,
log_level is set to the value of skrt.core.Defaults().log_level.</p>
</dd>
<dt>keep_tmp_dir: bool, default=False</dt><dd><p>If True, don’t delete directory self._tmp_dir used when
performing transformations.  Otherwise, delete this directory
after use.</p>
</dd>
<dt>engine: str, default=None</dt><dd><p>Name of the registration engine to use for
image registration.  This should be a key of
the dictionary skrt.registration.engines.  If None,
the first key found to be a substring of &lt;engine_dir&gt;
is used, or if there’s no match then the value of
Defaults().registration_engine is used.</p>
</dd>
<dt>engine_dir: str/pathlib.Path, default=None</dt><dd><p>Path to directory containing software for registration engine.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.add_default_pfile">
<span class="sig-name descname"><span class="pre">add_default_pfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.add_default_pfile" title="Permalink to this definition"></a></dt>
<dd><p>Add a default parameter file. For options, run
Registration.list_default_pfiles(). You can also inspect the contents
of a default parameter file by running get_default_params(name).</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>filename<span class="classifier">str</span></dt><dd><p>Name of the default parameter file to add (with or without
the .txt extension).</p>
</dd>
<dt>params<span class="classifier">dict, default=None</span></dt><dd><p>Dictionary of parameter names and replacement values with which
the input parameter file will be modified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.add_file">
<span class="sig-name descname"><span class="pre">add_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'p'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.add_file" title="Permalink to this definition"></a></dt>
<dd><p>Add a single file of type &lt;ftype&gt; to the list of registration steps.
This file can optionally be modified by providing a dict
of parameter names and new values in &lt;params&gt;.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>file<span class="classifier">str/dict/tuple/list</span></dt><dd><p>Path to the parameter file to copy into the registration
directory. Can also be a dict containing parameters and values,
which will be used to create a parameter file from scratch. In this
case, the &lt;name&gt; argument must also be provided.  For a transform
file (&lt;ftype&gt; of ‘t’), can also be a three element tuple or list,
specifying the x, y, z components of a translation.</p>
</dd>
<dt>name<span class="classifier">str, default=None</span></dt><dd><p>Name for this step of the registration. If None, a name will
be taken from the parameter file name.</p>
</dd>
<dt>params<span class="classifier">dict, default=None</span></dt><dd><p>Dictionary of parameter names and replacement values with which
the input parameter file will be modified.</p>
</dd>
<dt>ftype<span class="classifier">str, default=’p’</span></dt><dd><p>String indicating whether the file to be added is a parameter
file (‘p’) or a transform file (‘t’).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.add_files">
<span class="sig-name descname"><span class="pre">add_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'p'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.add_files" title="Permalink to this definition"></a></dt>
<dd><p>Add multiple files of type &lt;ftype&gt; to the list of registration steps,
then write list of registration steps to a file.</p>
<p>The valid values for &lt;ftype? are:
- ‘p’: parameter file;
- ‘t’: transform file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.add_pfile">
<span class="sig-name descname"><span class="pre">add_pfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.add_pfile" title="Permalink to this definition"></a></dt>
<dd><p>Alias for add_file() with ftype=’p’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.adjust_file">
<span class="sig-name descname"><span class="pre">adjust_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'p'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.adjust_file" title="Permalink to this definition"></a></dt>
<dd><p>Adjust parameters in a parameter or transform file for a given step.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>step<span class="classifier">str/int</span></dt><dd><p>Name or number of step for which the parameter file should be 
adjusted.</p>
</dd>
<dt>params<span class="classifier">dict</span></dt><dd><p>Dict of parameter names and desired parameter values. Any parameters
matching those in the existing file will be overwritten with the
new values. Any parameters not in the existing file will be added.
Parameters in the existing file but not in &lt;params&gt; will remain
unchanged.</p>
</dd>
<dt>ftype<span class="classifier">str, default=’p’</span></dt><dd><p>String indicating whether the file to be added is a parameter
file (‘p’) or a transform file (‘t’).</p>
</dd>
<dt>reset<span class="classifier">bool, default=True</span></dt><dd><p>If True, and the step can be rerun (that is, it has a
parameter file assigne), this will remove existing
registration transforms.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.adjust_pfile">
<span class="sig-name descname"><span class="pre">adjust_pfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.adjust_pfile" title="Permalink to this definition"></a></dt>
<dd><p>Alias for adjust_file() with ftype=’p’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.clear" title="Permalink to this definition"></a></dt>
<dd><p>Remove all registration steps and their output directories.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.ensure_registered">
<span class="sig-name descname"><span class="pre">ensure_registered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.ensure_registered" title="Permalink to this definition"></a></dt>
<dd><p>If a step has not already been registered, perform registration
for this step and any preceding steps. Return True if registration
had already been performed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_comparison">
<span class="sig-name descname"><span class="pre">get_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_comparison" title="Permalink to this definition"></a></dt>
<dd><p>Return a pandas DataFrame comparing fixed image
and transformed moving image after step.</p>
<p><strong>Parameters:</strong>
step : int/str/list, default=None</p>
<blockquote>
<div><p>Name or number of the registration step after which
mutual information is to be calculated.  Available
steps are listed in self.steps.</p>
</div></blockquote>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If True, transformation of the moving image will be
forced, even if the image was transformed previously.</p>
</dd>
<dt><a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs</dt><dd><p>Keyword arguments passed to
skrt.image.Image.get_comparison()
See this method’s documentation for options.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_correlation_quality">
<span class="sig-name descname"><span class="pre">get_correlation_quality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_correlation_quality" title="Permalink to this definition"></a></dt>
<dd><p>Calculate quality of correlation between transformed moving image
after step and fixed image.</p>
<p><strong>Parameters:</strong>
step : int/str/list, default=None</p>
<blockquote>
<div><p>Name or number of the registration step after which correlation
quality is to be calculated. Available steps are listed
in self.steps.</p>
</div></blockquote>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If True, transformation of the moving image will be
forced, even if the image was transformed previously.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_default_params">
<span class="sig-name descname"><span class="pre">get_default_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_default_params" title="Permalink to this definition"></a></dt>
<dd><p>Get the contents of a default parameter file as a dict. Note that this
does not affect the current Registration object and is only for
informative purposes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_deformation_field">
<span class="sig-name descname"><span class="pre">get_deformation_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_deformation_field" title="Permalink to this definition"></a></dt>
<dd><p>Generate deformation field for a given registration step.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_fidelity">
<span class="sig-name descname"><span class="pre">get_fidelity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_fidelity" title="Permalink to this definition"></a></dt>
<dd><p>Calculate fidelity with which transformed moving image after step
matches fixed image.</p>
<p><strong>Parameters:</strong>
step : int/str/list, default=None</p>
<blockquote>
<div><p>Name or number of the registration step after which fidelity
is to be calculated. Available steps are listed in self.steps.</p>
</div></blockquote>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If True, transformation of the moving image will be
forced, even if the image was transformed previously.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_foreground_comparison">
<span class="sig-name descname"><span class="pre">get_foreground_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_foreground_comparison" title="Permalink to this definition"></a></dt>
<dd><p>Return a pandas DataFrame comparing the foregrounds of
fixed image and transformed moving image after step.</p>
<p><strong>Parameters:</strong>
step : int/str/list, default=None</p>
<blockquote>
<div><p>Name or number of the registration step after which
mutual information is to be calculated.  Available
steps are listed in self.steps.</p>
</div></blockquote>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If True, transformation of the moving image will be
forced, even if the image was transformed previously.</p>
</dd>
<dt><a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs</dt><dd><p>Keyword arguments passed to
skrt.image.Image.get_foreground_comparison()
See this method’s documentation for options.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_input_parameters">
<span class="sig-name descname"><span class="pre">get_input_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_input_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Get dict of input parameters for a given step.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_jacobian">
<span class="sig-name descname"><span class="pre">get_jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_to_fixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Generate Jacobian determinant for a given registration step
(or return existing Jacobian object, unless force=True).</p>
<p>If the registration engine used is unable to generate the
Jacobian determinant, None will be returned.</p>
<p>Positive values in the Jacobian determinant represent:
- moving_to_fixed=False: scaling from fixed image to moving image;
- moving_to_fixed=True: scaling from moving image to fixed image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_mutual_information">
<span class="sig-name descname"><span class="pre">get_mutual_information</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_mutual_information" title="Permalink to this definition"></a></dt>
<dd><p>For fixed image and transformed moving image after step,
calculate mutual information or a variant.
after step.</p>
<p><strong>Parameters:</strong>
step : int/str/list, default=None</p>
<blockquote>
<div><p>Name or number of the registration step after which
mutual information is to be calculated.  Available
steps are listed in self.steps.</p>
</div></blockquote>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If True, transformation of the moving image will be
forced, even if the image was transformed previously.</p>
</dd>
<dt><a href="#id5"><span class="problematic" id="id6">**</span></a>kwargs</dt><dd><p>Keyword arguments passed to
skrt.image.Image.get_mutual_information()
See this method’s documentation for options.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_quality">
<span class="sig-name descname"><span class="pre">get_quality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_quality" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate quality relative to fixed image of transformed moving image
after step.</p>
<p>For information on quality metrics, see documentation of
skrt.image.Image.get_quality().</p>
<p><strong>Parameters:</strong>
step : int/str/list, default=None</p>
<blockquote>
<div><p>Name or number of the registration step after which relative
structure content is to be calculated. Available steps are
listed in self.steps.</p>
</div></blockquote>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If True, transformation of the moving image will be
forced, even if the image was transformed previously.</p>
</dd>
<dt>metrics: list, default=None</dt><dd><p>List of strings specifying quality metrics to be evaluated.
If None, all defined quality metrics are evaluated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_registration_cmd">
<span class="sig-name descname"><span class="pre">get_registration_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_previous_tfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_registration_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration command for a given step.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_relative_structural_content">
<span class="sig-name descname"><span class="pre">get_relative_structural_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_relative_structural_content" title="Permalink to this definition"></a></dt>
<dd><p>Quantify structural content relative to fixed image of
transformed moving image after step.</p>
<p><strong>Parameters:</strong>
step : int/str/list, default=None</p>
<blockquote>
<div><p>Name or number of the registration step after which relative
structure content is to be calculated. Available steps are
listed in self.steps.</p>
</div></blockquote>
<dl class="simple">
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If True, transformation of the moving image will be
forced, even if the image was transformed previously.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_step_name">
<span class="sig-name descname"><span class="pre">get_step_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_step_name" title="Permalink to this definition"></a></dt>
<dd><p>Convert &lt;step&gt; to a string containing a step name. If &lt;step&gt; is
already a string, use this; otherwise if &lt;step&gt; is an integer,
obtain the corresponding step name.  Check that step has
a parameter file and/or a transform file assigned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_step_number">
<span class="sig-name descname"><span class="pre">get_step_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_step_number" title="Permalink to this definition"></a></dt>
<dd><p>Convert &lt;step&gt; to an int containing the number of a given step.
If &lt;step&gt; is an int, check it corresponds to a step number, ensure it 
is positive, and return it. Otherwise if it’s a string, return the 
index of that step name in self.steps.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_tfile">
<span class="sig-name descname"><span class="pre">get_tfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_tfile" title="Permalink to this definition"></a></dt>
<dd><p>Return path to transform file in directory &lt;dir_path&gt;.</p>
<p>The transform file may be named either ‘TransformParameters.0.txt’
(e.g. Elastix or NiftyReg affine) or ‘TransformParameters.0.nii’
(e.g. NiftyReg deformable).  If both exist in the directory,
the latter should be used.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_transform_parameters">
<span class="sig-name descname"><span class="pre">get_transform_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_transform_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Get dict of output transform parameters for a given step.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_transformed_grid">
<span class="sig-name descname"><span class="pre">get_transformed_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(30,</span> <span class="pre">30,</span> <span class="pre">30)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(2,</span> <span class="pre">2,</span> <span class="pre">2)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'green'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_transformed_grid" title="Permalink to this definition"></a></dt>
<dd><p>Obtain transformed grid.</p>
<p>A three-dimensional grid is defined in the space of
the moving image, and is transformed by applying the
result of a registration step.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>step<span class="classifier">int, default=-1</span></dt><dd><p>Registration step for which transformed grid is
to be obtained.</p>
</dd>
<dt>force<span class="classifier">bool, default=False</span></dt><dd><p>If False, return any previously calculated transformed
grid.  If True, disregard any previous calculations.</p>
</dd>
<dt>spacing<span class="classifier">tuple, default=(30, 30, 30)</span></dt><dd><p>Spacing along (x, y, z) directions of grid lines.  If
voxel_units is True, values are taken to be in numbers
of voxels.  Otherwise, values are taken to be in the
same units as the voxel dimensions of the moving image.</p>
</dd>
<dt>thickness<span class="classifier">tuple, default=(2, 2, 2)</span></dt><dd><p>Thickness along (x, y, z) directions of grid lines.  If
voxel_units is True, values are taken to be in numbers
of voxels.  Otherwise, values are taken to be in the
same units as the voxel dimensions of the moving image.</p>
</dd>
<dt>voxel_units<span class="classifier">bool, default=False</span></dt><dd><p>If True, values for spacing and thickness are taken to be
in numbers of voxels.  If False, values for spacing and
thickness are taken to be in the same units as the
voxel dimensions of the moving image.</p>
</dd>
<dt>color<span class="classifier">tuple/str, default=’green’</span></dt><dd><p>Colour to use for grid lines.  The colour may be specified
in any of the forms recognised by matplotlib:
<a class="reference external" href="https://matplotlib.org/stable/tutorials/colors/colors.html">https://matplotlib.org/stable/tutorials/colors/colors.html</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.get_transformed_image">
<span class="sig-name descname"><span class="pre">get_transformed_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.get_transformed_image" title="Permalink to this definition"></a></dt>
<dd><p>Get the transformed moving image for a given step, by default the
final step. If force=True, the transform will be applied
even if there is already a resultant image in the
output directory for that step.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.is_registered">
<span class="sig-name descname"><span class="pre">is_registered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.is_registered" title="Permalink to this definition"></a></dt>
<dd><p>Check whether a registration step has already been performed (i.e. 
has a valid output transform file).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.list_default_pfiles">
<span class="sig-name descname"><span class="pre">list_default_pfiles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.list_default_pfiles" title="Permalink to this definition"></a></dt>
<dd><p>List the available default parameter files. Note that this
does not affect the current Registration object and is only for
informative purposes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.load_existing_input_images">
<span class="sig-name descname"><span class="pre">load_existing_input_images</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.load_existing_input_images" title="Permalink to this definition"></a></dt>
<dd><p>Attempt to load images from fixed.nii.gz and moving.nii.gz from
inside self.path. Print a warning if not found.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.load_files">
<span class="sig-name descname"><span class="pre">load_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.load_files" title="Permalink to this definition"></a></dt>
<dd><p>Attempt to load registration steps from a registration step
file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.make_tmp_dir">
<span class="sig-name descname"><span class="pre">make_tmp_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.make_tmp_dir" title="Permalink to this definition"></a></dt>
<dd><p>Create temporary directory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.manually_adjust_translation">
<span class="sig-name descname"><span class="pre">manually_adjust_translation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reapply_transformation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.manually_adjust_translation" title="Permalink to this definition"></a></dt>
<dd><p>Open BetterViewer and manually adjust the translation between the
fixed image and the result of a registration. If the “write translation”
button is clicked, the manual translation will be added to the
translation in the output transform file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>step<span class="classifier">int/str, default=None</span></dt><dd><p>Name, number, or list of the step which should have its translation
modified. This must be provided if the registration has more than
one step. If the tfile for the chosen step does not contain a
translation, the function will immediately return None.</p>
</dd>
<dt>reapply_transformation<span class="classifier">bool, default=True</span></dt><dd><p>If True, upon saving a translation, the transformed moving image
will be produced according to the new translation parameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.print_log">
<span class="sig-name descname"><span class="pre">print_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.print_log" title="Permalink to this definition"></a></dt>
<dd><p>Print registration output log for a given step (by default, the 
last step).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_previous_tfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_transformed_moving</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.register" title="Permalink to this definition"></a></dt>
<dd><p>Run a registration. By default the registration will be run for
all steps in self.steps, but can optionally be run for just one step
by setting &lt;step&gt; to a step name or number. Note that if
use_previous_tfile=True, any prior steps that have not yet been
run will be run.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>step<span class="classifier">int/str/list, default=None</span></dt><dd><p>Name, number, or list of the step(s) for which the registration
should be performed. By default, registration will be performed
for all steps in series, using the previous steps’s output
transform as input for the next. Available steps are listed in
self.steps.</p>
</dd>
<dt>force<span class="classifier">bool, default=None</span></dt><dd><p>If False and a registration has already been performed for the
given step(s), the registration will not be re-run.</p>
</dd>
<dt>use_previous_tfile<span class="classifier">bool, default=True</span></dt><dd><p>If True, each step will use the transform file from the previous
step as an initial transform.</p>
</dd>
<dt>ensure_transformed_moving<span class="classifier">bool, default=True</span></dt><dd><p>Ensure that a transformed moving image is created for each
registration step.  This may mean forcing the image creation
for a step with a pre-defined transform file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.register_step">
<span class="sig-name descname"><span class="pre">register_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_previous_tfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_transformed_moving</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.register_step" title="Permalink to this definition"></a></dt>
<dd><p>Run a single registration step, if it has a parameter file
assigned. Note that if use_previous_tfile=True,
any prior steps that have not yet been run will be run.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>step<span class="classifier">int/str/list, default=None</span></dt><dd><p>Name or number of the step for which the registration should be
performed. Available steps are listed in self.steps.</p>
</dd>
<dt>force<span class="classifier">bool, default=None</span></dt><dd><p>If False and a registration has already been performed for the
given step, the registration will not be re-run. Ignored
if the step has no parameter file assigned (in which case
the step must have a pre-defined transform file).  Note that setting
force=True will only force rerunning of the chosen step, not of
any preceding steps needed for the input transform file. To enforce
rerunning of multiple steps, call self.register(step, force=True)
where &lt;steps&gt; is a list of steps to run.</p>
</dd>
<dt>use_previous_tfile<span class="classifier">bool, default=True</span></dt><dd><p>If True, this step will use the transform file from the previous
step as an initial transform, unless it is the first step. Note
that this will cause any prior steps that have not yet been run
to be run.</p>
</dd>
<dt>ensure_transformed_moving<span class="classifier">bool, default=True</span></dt><dd><p>Ensure that a transformed moving image is created for the
registration step.  This may mean forcing the image creation
for a step with a pre-defined transform file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.rm_tmp_dir">
<span class="sig-name descname"><span class="pre">rm_tmp_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.rm_tmp_dir" title="Permalink to this definition"></a></dt>
<dd><p>Delete temporary directory and its contents.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.run_transformix_on_all">
<span class="sig-name descname"><span class="pre">run_transformix_on_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_jac</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.run_transformix_on_all" title="Permalink to this definition"></a></dt>
<dd><p>Create a Jacobian determinant or deformation field file,
and return either a Jacobian or DeformationField object initialised
from the output file.</p>
<p>This was first implemented by running transformix for an elastix
transform file.  Creation of Jacobian or DeformationField object
now depends on the registration engine used.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.set_fixed_image">
<span class="sig-name descname"><span class="pre">set_fixed_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.set_fixed_image" title="Permalink to this definition"></a></dt>
<dd><p>Assign a fixed image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.set_fixed_mask">
<span class="sig-name descname"><span class="pre">set_fixed_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.set_fixed_mask" title="Permalink to this definition"></a></dt>
<dd><p>Assign a fixed-image mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.set_image">
<span class="sig-name descname"><span class="pre">set_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.set_image" title="Permalink to this definition"></a></dt>
<dd><p>Assign a fixed or moving image.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>im<span class="classifier">Image/str</span></dt><dd><p>The Image object to set, or a path that can be used to intialise
an Image object.</p>
</dd>
<dt>category<span class="classifier">str</span></dt><dd><p>Category of image: “fixed”, “moving”, “fixed_mask”, “moving_mask”,
“moving_grid”.</p>
</dd>
<dt>force<span class="classifier">bool, default=True</span></dt><dd><p>If True, the image file within self.path will be overwritten by
this image even if it already exists.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.set_moving_grid">
<span class="sig-name descname"><span class="pre">set_moving_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.set_moving_grid" title="Permalink to this definition"></a></dt>
<dd><p>Assign a grid in the reference system of the moving image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.set_moving_image">
<span class="sig-name descname"><span class="pre">set_moving_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.set_moving_image" title="Permalink to this definition"></a></dt>
<dd><p>Assign a moving image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.set_moving_mask">
<span class="sig-name descname"><span class="pre">set_moving_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.set_moving_mask" title="Permalink to this definition"></a></dt>
<dd><p>Assign a moving-image mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_transform</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.transform" title="Permalink to this definition"></a></dt>
<dd><p>Call one of the transform functions, depending on the type of
<cite>to_transform</cite>. Functions called depending on type are:</p>
<dl class="simple">
<dt>Image:</dt><dd><p>transform_image(to_transform, <a href="#id7"><span class="problematic" id="id8">`</span></a><a href="#id9"><span class="problematic" id="id10">**</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a>kwargs)</p>
</dd>
<dt>str:</dt><dd><p>transform_data(to_transform, <a href="#id13"><span class="problematic" id="id14">`</span></a><a href="#id15"><span class="problematic" id="id16">**</span></a><a href="#id17"><span class="problematic" id="id18">`</span></a>kwargs)</p>
</dd>
<dt>StructureSet:</dt><dd><p>transform_structure_set(to_transform, <a href="#id19"><span class="problematic" id="id20">`</span></a><a href="#id21"><span class="problematic" id="id22">**</span></a><a href="#id23"><span class="problematic" id="id24">`</span></a>kwargs)</p>
</dd>
<dt>ROI:</dt><dd><p>transform_roi(to_transform, <a href="#id25"><span class="problematic" id="id26">`</span></a><a href="#id27"><span class="problematic" id="id28">**</span></a><a href="#id29"><span class="problematic" id="id30">`</span></a>kwargs)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.transform_data">
<span class="sig-name descname"><span class="pre">transform_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recurse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.transform_data" title="Permalink to this definition"></a></dt>
<dd><p>Transform a nifti file or point cloud at a given path
for a given step, ensuring that the step has been run. Return
the path to the transformed file inside self._tmp_dir.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.transform_image">
<span class="sig-name descname"><span class="pre">transform_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rois</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.transform_image" title="Permalink to this definition"></a></dt>
<dd><p>Transform an image using the output transform from a given
registration step (by default, the final step). If the registration
step has not yet been performed, the step and all preceding steps
will be run. Either return the transformed image or write it to
a file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>im<span class="classifier">Image/str</span></dt><dd><p>Image to be transformed. Can be either an Image object or a
path that can be used to initialise an Image object.</p>
</dd>
<dt>step<span class="classifier">int/str, default=-1</span></dt><dd><p>Name or number of step for which to apply the transform; by
default, the final step will be used.</p>
</dd>
<dt>outfile<span class="classifier">str, default=None</span></dt><dd><p>If None, the transformed Image object will be returned; otherwise,
it will be written to the path specified in &lt;outfile&gt;.</p>
</dd>
<dt>params<span class="classifier">dict, default=None</span></dt><dd><p>Optional list of parameters to temporarily overwrite in the
transform file before applying the transform. Should be a dict,
where keys are parameter names and desired values are values.
Note that strings in the parameter file, need to include quotes,
so you will need to use double quotes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.transform_moving_image">
<span class="sig-name descname"><span class="pre">transform_moving_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.transform_moving_image" title="Permalink to this definition"></a></dt>
<dd><p>Transform the moving image using the output of a registration step
and set it to self.transformed_images[step].</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.transform_roi">
<span class="sig-name descname"><span class="pre">transform_roi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_contours</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.transform_roi" title="Permalink to this definition"></a></dt>
<dd><p>Transform a single ROI using the output transform from a given
registration step (by default, the final step). If the registration
step has not yet been performed, the step and all preceding steps
will be run. Either return the transformed ROI or write it to a file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>roi<span class="classifier">ROI/str</span></dt><dd><p>ROI to be transformed. Can be either an ROI object or a
path that can be used to initialise an ROI object.</p>
</dd>
<dt>step<span class="classifier">int/str, default=-1</span></dt><dd><p>Name or number of step for which to apply the transform; by
default, the final step will be used.</p>
</dd>
<dt>outfile<span class="classifier">str, default=None</span></dt><dd><p>If None, the transformed ROI object will be returned; otherwise,
it will be written to the path specified in &lt;outfile&gt;.</p>
</dd>
<dt>params<span class="classifier">dict, default=None</span></dt><dd><p>Optional list of parameters to temporarily overwrite in the
transform file before applying the transform. Should be a dict,
where keys are parameter names and desired values are values.
Note that strings in the parameter file, need to include quotes,
so you will need to use double quotes.
By default, “ResampleInterpolator” will be set to
“FinalNearestNeighborInterpolator”.</p>
</dd>
<dt>transform_points<span class="classifier">bool, default=False</span></dt><dd><p>If False, the transform is applied to pull the ROI mask
from the reference frame of the moving image to the reference
frame of the fixed image.  If True, the transform is applied
to push ROI contour points from the reference frame of the
fixed image to the reference frame of the moving image.</p>
</dd>
<dt>require_contours<span class="classifier">bool, default=False</span></dt><dd><p>If the transformed ROI doesn’t have contours defined: return
the ROI if &lt;require_contours&gt; is False; return None if
&lt;require_contours&gt; is True.  A transformed ROI won’t have
contours defined if, for example, it’s transformed as a mask,
and the non-zero regions of the transformed mask are outside
the fixed image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.transform_structure_set">
<span class="sig-name descname"><span class="pre">transform_structure_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.transform_structure_set" title="Permalink to this definition"></a></dt>
<dd><p>Transform a structure set using the output transform from a given
registration step (by default, the final step). If the registration
step has not yet been performed, the step and all preceding steps
will be run. Either return the transformed ROI or write it to a file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>structure_set<span class="classifier">StructureSet/str</span></dt><dd><p>StructureSet to be transformed. Can be either a StructureSet
object or a path that can be used to initialise a StructureSet.</p>
</dd>
<dt>step<span class="classifier">int/str, default=-1</span></dt><dd><p>Name or number of step for which to apply the transform; by
default, the final step will be used.</p>
</dd>
<dt>outfile<span class="classifier">str, default=None</span></dt><dd><p>If None, the transformed StructureSet object will be returned;
otherwise, it will be written to the path specified in &lt;outfile&gt;.</p>
</dd>
<dt>params<span class="classifier">dict, default=None</span></dt><dd><p>Optional list of parameters to temporarily overwrite in the
transform file before applying the transform. Should be a dict,
where keys are parameter names and desired values are values.
Note that strings in the parameter file, need to include quotes,
so you will need to use double quotes.
By default, “ResampleInterpolator” will be set to
“FinalNearestNeighborInterpolator”.</p>
</dd>
<dt>transform_points<span class="classifier">bool, default=False</span></dt><dd><p>If False, the transform is applied to pull ROI masks
from the reference frame of the moving image to the reference
frame of the fixed image.  If True, the transform is applied
to push ROI contour points from the reference frame of the
fixed image to the reference frame of the moving image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.view_init">
<span class="sig-name descname"><span class="pre">view_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.view_init" title="Permalink to this definition"></a></dt>
<dd><p>Interactively view initial fixed and moving images.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.view_result">
<span class="sig-name descname"><span class="pre">view_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_with_fixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.view_result" title="Permalink to this definition"></a></dt>
<dd><p>Interactively view transformed image, optionally side-by-side
with fixed image.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>step<span class="classifier">int/str, default=-1</span></dt><dd><p>Name or number of step for which to view the result. By default,
the result of the final step will be shown.</p>
</dd>
<dt>compare_with_fixed<span class="classifier">bool, default=True</span></dt><dd><p>If True, the result will be displayed in comparison with the
fixed image.</p>
</dd>
<dt><a href="#id31"><span class="problematic" id="id32">`</span></a><a href="#id33"><span class="problematic" id="id34">**</span></a><a href="#id35"><span class="problematic" id="id36">`</span></a>kwargs :</dt><dd><p>Optional keyword arguments to pass to BetterViewer.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.Registration.write_steps">
<span class="sig-name descname"><span class="pre">write_steps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.Registration.write_steps" title="Permalink to this definition"></a></dt>
<dd><p>Write list of registration steps to a file at
self.path/registration_steps.txt.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">RegistrationEngine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for interfacing to a registration engine.</p>
<p>Some methods are effectively virtual: they will raise
a NotImplementedError exception if called, and should be overridden
in subclasses.</p>
<p>This class defines the following variables and methods:</p>
<p><strong>Class variables:</strong>
transform_points_implemented (bool): Indicate whether registration engine</p>
<blockquote>
<div><p>implements mapping of points from fixed image to moving images.</p>
</div></blockquote>
<dl class="simple">
<dt>recursive_transform (bool): Indicate whether a transform for a</dt><dd><p>registration step other than the first requires the transform output
from the preceding step.</p>
</dd>
<dt>def_signs (tuple/None): Indicate signs to be applied to</dt><dd><p>(x, y, z) components of deformation field.</p>
</dd>
</dl>
<p><strong>Methods:</strong>
__init__():  Create RegistrationEngine instance.
adjust_parameters():</p>
<blockquote>
<div><p>Modify contents of a registration parameter file.</p>
</div></blockquote>
<dl class="simple">
<dt>define_translation(): Define translation parameters to be passed</dt><dd><p>to registration engine.</p>
</dd>
</dl>
<p>get_default_pfiles(): Get list of default parameter files.
get_default_pfiles_dir(): Return path to directory containing</p>
<blockquote>
<div><p>default parameter files.</p>
</div></blockquote>
<dl class="simple">
<dt>get_def_cmd(): Get registration-engine command for computing</dt><dd><p>deformation field.</p>
</dd>
<dt>get_jac_cmd(): Get registration-engine command for computing</dt><dd><p>Jacobian determinant.</p>
</dd>
<dt>get_registration_cmd(): Get registration-engine command for</dt><dd><p>performing image registration.</p>
</dd>
<dt>get_roi_params(): Get default parameters to be used when</dt><dd><p>transforming ROI mask.</p>
</dd>
<dt>get_transform_cmd(): Get registration-engine command for</dt><dd><p>applying registration transform.</p>
</dd>
<dt>read_parameters(): Get dictionary of parameters from a</dt><dd><p>registration parameter file.</p>
</dd>
<dt>set_exe_env(): Set environment variables for running</dt><dd><p>registration-engine software.</p>
</dd>
</dl>
<p>set_exe_paths(): Set path(s)s to registration-engine executable(s).
shift_translation_parameters(): Add offsets to the translation parameters</p>
<blockquote>
<div><p>in a registration transform file.</p>
</div></blockquote>
<dl class="simple">
<dt>write_parameters(): Write dictionary of parameters to a</dt><dd><p>registration parameter file.</p>
</dd>
</dl>
<p><strong>Static method:</strong>
get_transform_strategies(): Get list of available strategies</p>
<blockquote>
<div><p>for applying registration transform.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Create RegistrationEngine instance.</p>
<p><strong>Parameters:</strong>
path : str/pathlib.Path, default=None</p>
<blockquote>
<div><p>Path to directory containing registration-engine software.</p>
</div></blockquote>
<p>force : bool, default=False
If False, modify environment based on &lt;path&gt; only if registration
software can’t be located in the existing environment.  If True, modify
environment based on &lt;path&gt; in all cases.</p>
<dl class="simple">
<dt>log_level: str/int/None, default=None</dt><dd><p>Severity level for event logging.  If the value is None,
log_level is set to the value of skrt.core.Defaults().log_level.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.adjust_parameters">
<span class="sig-name descname"><span class="pre">adjust_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.adjust_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Modify contents of a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile<span class="classifier">str/patlib.Path</span></dt><dd><p>Path to a registration parameter file.</p>
</dd>
<dt>outfile<span class="classifier">str/pathlib.Path</span></dt><dd><p>Path to output file.</p>
</dd>
<dt>params<span class="classifier">dict</span></dt><dd><p>Dictionary of parameter names and new values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.def_signs">
<span class="sig-name descname"><span class="pre">def_signs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#skrt.registration.RegistrationEngine.def_signs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.define_translation">
<span class="sig-name descname"><span class="pre">define_translation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dxdydz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.define_translation" title="Permalink to this definition"></a></dt>
<dd><p>Define translation parameters to be passed to registration engine.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>dxdydz<span class="classifier">tuple/list</span></dt><dd><p>Three-element tuple or list, giving translations in order
(dx, dy, dz).  Translations correspond to the amounts added
in mapping a point from fixed image to moving image.</p>
</dd>
<dt>fixed_image<span class="classifier">skrt.image.Image, default=None</span></dt><dd><p>Image towards which moving image is to be warped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.exes">
<span class="sig-name descname"><span class="pre">exes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#skrt.registration.RegistrationEngine.exes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.get_def_cmd">
<span class="sig-name descname"><span class="pre">get_def_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.get_def_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for computing deformation field.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for output deformation field.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file for which deformation
field is to be computed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.get_default_pfiles">
<span class="sig-name descname"><span class="pre">get_default_pfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basename_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.get_default_pfiles" title="Permalink to this definition"></a></dt>
<dd><p>Get list of default parameter files.</p>
<p><strong>Parameter:</strong></p>
<dl class="simple">
<dt>basename_only<span class="classifier">bool, default=True</span></dt><dd><p>If True, return list of filenames only.  If False, return list
of paths, as pathlib.Path objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.get_default_pfiles_dir">
<span class="sig-name descname"><span class="pre">get_default_pfiles_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.get_default_pfiles_dir" title="Permalink to this definition"></a></dt>
<dd><p>Return path to directory containing default parameter files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.get_jac_cmd">
<span class="sig-name descname"><span class="pre">get_jac_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.get_jac_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for computing Jacobian determinant.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for output deformation field.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file for which deformation
field is to be computed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.get_registration_cmd">
<span class="sig-name descname"><span class="pre">get_registration_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_mask_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_mask_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.get_registration_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for performing image registration.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>moving_path<span class="classifier">str</span></dt><dd><p>Path to moving image.</p>
</dd>
<dt>fixed_mask_path<span class="classifier">str</span></dt><dd><p>Path to mask for fixed image.</p>
</dd>
<dt>moving_mask_path<span class="classifier">str</span></dt><dd><p>Path to mask for moving image.</p>
</dd>
<dt>pfile<span class="classifier">str</span></dt><dd><p>Path to registration paramter file.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for registration output.</p>
</dd>
<dt>tfile<span class="classifier">str, default=None</span></dt><dd><p>Path to registration transform file from previous registration
step.  If None, no previous registration step is it be considered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.get_roi_params">
<span class="sig-name descname"><span class="pre">get_roi_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.get_roi_params" title="Permalink to this definition"></a></dt>
<dd><p>Get default parameters to be used when transforming ROI mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.get_transform_cmd">
<span class="sig-name descname"><span class="pre">get_transform_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.get_transform_cmd" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine command for applying registration transform.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>fixed_path<span class="classifier">str</span></dt><dd><p>Path to fixed image.</p>
</dd>
<dt>moving_path<span class="classifier">str</span></dt><dd><p>Path to moving image.</p>
</dd>
<dt>outdir<span class="classifier">str</span></dt><dd><p>Path to directory for transform output.</p>
</dd>
<dt>tfile<span class="classifier">str</span></dt><dd><p>Path to registration transform file to be applied.</p>
</dd>
<dt>params: dict, default=None</dt><dd><p>Dictionary of parameter-value pairs defining modifications
to the registration transform file prior to running the
transform command.  The original transform file is left
unaltered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.get_transform_log">
<span class="sig-name descname"><span class="pre">get_transform_log</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.get_transform_log" title="Permalink to this definition"></a></dt>
<dd><p>Get name of transform log file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.get_transform_strategies">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_transform_strategies</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.get_transform_strategies" title="Permalink to this definition"></a></dt>
<dd><p>Get list of available strategies for applying registration transform.</p>
<p>Possible strategies are:</p>
<ul class="simple">
<li><p>“pull”: transform applied to pull image or mask from the reference
frame of the moving image to the reference frame of the fixed image;</p></li>
<li><p>“push”: transform applied to push points from the reference frame
of the fixed image to the reference frame of the moving image.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.read_parameters">
<span class="sig-name descname"><span class="pre">read_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.read_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Get dictionary of parameters from a registration parameter file.</p>
<p><strong>Parameter:</strong>
infile: str/pathlib.Path</p>
<blockquote>
<div><p>Path to registration parameter file.</p>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.recursive_transform">
<span class="sig-name descname"><span class="pre">recursive_transform</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#skrt.registration.RegistrationEngine.recursive_transform" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.set_exe_env">
<span class="sig-name descname"><span class="pre">set_exe_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.set_exe_env" title="Permalink to this definition"></a></dt>
<dd><p>Set environment variables for running registration-engine software.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>path<span class="classifier">str/pathlib.Path, default=None</span></dt><dd><p>Path to directory containing registration-engine software.</p>
</dd>
</dl>
<p>force : bool, default=False
If False, modify environment based on &lt;path&gt; only if registration
software can’t be located in the existing environment.  If True, modify
environment based on &lt;path&gt; in all cases.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.set_exe_paths">
<span class="sig-name descname"><span class="pre">set_exe_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.set_exe_paths" title="Permalink to this definition"></a></dt>
<dd><p>Set path(s)s to registration-engine executable(s).</p>
<p><strong>Parameter:</strong></p>
<dl class="simple">
<dt>path<span class="classifier">str/pathlib.Path, default=None</span></dt><dd><p>Path to directory containing registration-engine executable(s).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.shift_translation_parameters">
<span class="sig-name descname"><span class="pre">shift_translation_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.shift_translation_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Add offsets to the translation parameters in a registration
transform file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile: str</dt><dd><p>Path to input transform file.</p>
</dd>
<dt>dx, dy, dz: int, default=0</dt><dd><p>Amounts by which to increase translation parameters, along
x, y, z directions.</p>
</dd>
<dt>outfile: str, default=None</dt><dd><p>Path to output parameter file.  If None, overwrite input
parameter file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.transform_points_implemented">
<span class="sig-name descname"><span class="pre">transform_points_implemented</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#skrt.registration.RegistrationEngine.transform_points_implemented" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skrt.registration.RegistrationEngine.write_parameters">
<span class="sig-name descname"><span class="pre">write_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.RegistrationEngine.write_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Write dictionary of parameters to a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>outfile: str/pathlib.Path</dt><dd><p>Path to output file.</p>
</dd>
<dt>params: dict</dt><dd><p>Dictionary of parameters to be written to file.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.add_engine">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">add_engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.add_engine" title="Permalink to this definition"></a></dt>
<dd><p>Decorator for adding skrt.registration.RegistrationEngine subclasses
to the skrt.registartion.engines dictionary.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.adjust_parameters">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">adjust_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.adjust_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Modify contents of a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile<span class="classifier">str</span></dt><dd><p>Path to a registration parameter file.</p>
</dd>
<dt>outfile<span class="classifier">str</span></dt><dd><p>Path to output file.</p>
</dd>
<dt>params<span class="classifier">dict</span></dt><dd><p>Dictionary of parameter names and new values.</p>
</dd>
<dt>engine: str, default=None</dt><dd><p>String identifying registration engine, corresponding to
a key of the dictionary skrt.registration.engines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.get_data_dir">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">get_data_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.get_data_dir" title="Permalink to this definition"></a></dt>
<dd><p>Return path to data directory within the scikit-rt package.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.get_default_pfiles">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">get_default_pfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*.txt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basename_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.get_default_pfiles" title="Permalink to this definition"></a></dt>
<dd><p>Get list of default parameter files.</p>
<p><strong>Parameter:</strong></p>
<dl class="simple">
<dt>basename_only<span class="classifier">bool, default=False</span></dt><dd><p>If True, return list of filenames only.  If False, return list
of paths, as pathlib.Path objects.</p>
</dd>
<dt>engine: str, default=None</dt><dd><p>Name of registration engine for which path to directory
containing default parameter files is required.  If None,
use value set for skrt.core.Default().registration_engine.</p>
</dd>
<dt>pattern: str, default=”<a href="#id37"><span class="problematic" id="id38">*</span></a>.txt”</dt><dd><p>Glob-style pattern for filtering on file names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.get_default_pfiles_dir">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">get_default_pfiles_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.get_default_pfiles_dir" title="Permalink to this definition"></a></dt>
<dd><p>Return path to directory containing default parameter files
for specified engine.</p>
<p><strong>Parameter:</strong>
engine: str, default=None</p>
<blockquote>
<div><p>Name of registration engine for which path to directory
containing default parameter files is required.  If None,
use value set for skrt.core.Default().registration_engine.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.get_engine_cls">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">get_engine_cls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.get_engine_cls" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine class, given engine name or software directory.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>engine: str, default=None</dt><dd><p>String identifying registration engine, corresponding to
a key of the dictionary skrt.registration.engines.</p>
</dd>
<dt>engine_dir: pathlib.Path/str, default=None</dt><dd><p>Path to directory containing registration-engine software.
It’s assumed that the registration engine is a key of
the dictionary skrt.registration.engines, that the directory
path includes this key, and that directory path doesn’t
include any other keys of skrt.registration.engines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.get_engine_name">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">get_engine_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.get_engine_name" title="Permalink to this definition"></a></dt>
<dd><p>Get registration-engine name, given engine name or software directory.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>engine: str, default=None</dt><dd><p>String identifying registration engine, corresponding to
a key of the dictionary skrt.registration.engines.</p>
</dd>
<dt>engine_dir: pathlib.Path/str, default=None</dt><dd><p>Path to directory containing registration-engine software.
It’s assumed that the registration engine is a key of
the dictionary skrt.registration.engines, that the directory
path includes this key, and that directory path doesn’t
include any other keys of skrt.registration.engines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.get_image_transform_parameters">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">get_image_transform_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.get_image_transform_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Define Elastix registration-independent parameters for transforms
to the space of a specified image.</p>
<p><strong>Parameter:</strong></p>
<dl class="simple">
<dt>im<span class="classifier">skrt.image.Image</span></dt><dd><p>Image object representing a fixed image in the context of registration.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.get_jacobian_colormap">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">get_jacobian_colormap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_per_band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{0:</span> <span class="pre">1,</span> <span class="pre">1:</span> <span class="pre">0.5,</span> <span class="pre">2:</span> <span class="pre">1}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.get_jacobian_colormap" title="Permalink to this definition"></a></dt>
<dd><p>Return custom colour map, for highlighting features of Jacobian determinant.</p>
<p>Following image registration, the Jacobian determinant of
the registration transformation reflects the characteristics of the
deformation field.  A positive value, x, in the Jacobian determinant
indicates a volume scaling by x in going from the fixed image to the
moving image.  A negative value indicates folding.</p>
<p>The colour map defined here is designed to cover the range -1 to 2,
highlighting the following:</p>
<ul class="simple">
<li><p>regions of no volume change (value equal to 1);</p></li>
<li><p>regions of small and large expansion (values greater than 1
by a small or large amount);</p></li>
<li><p>regions of small and large expansion (non-negative values less than 1
by a small or large amount);</p></li>
<li><p>regions of folding (negative values).</p></li>
</ul>
<p>The colour map is as follows:
- x &lt; 0 (band 0): yellow, increasing linearly in opacity,</p>
<blockquote>
<div><p>from 0 at x ==0 to 1 at saturation value;</p>
</div></blockquote>
<ul class="simple">
<li><p>0 &lt;= x &lt; 1 (band 1): blue, increasing in opacity as 1/x,
from 0 at x == 1 to 1 at saturation value;</p></li>
<li><p>x == 1: transparent;</p></li>
<li><p>x &gt; 1 (band 2): red, increasing linearly in opacity,
from 0 at x == 1 to 1 at saturation value;</p></li>
</ul>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>col_per_band<span class="classifier">int, default=1000</span></dt><dd><p>Number of colours (anchor points) per band in the colour map.</p>
</dd>
<dt>sat_values<span class="classifier">dict, default={0: 1, 1: 0.5, 2: 1}</span></dt><dd><p>Dictionary of saturation values for the colour bands.  The
saturation value is the (unsigned) distance along the x scale
from the band threshold.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.get_parameters">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">get_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.get_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Obtain parameter dictionary from default parameter file.</p>
<p><strong>Parameter:</strong>
pattern: str, default=None</p>
<blockquote>
<div><p>Glob-style pattern for identifying default parameter file(s).</p>
</div></blockquote>
<dl class="simple">
<dt>engine: str, default=None</dt><dd><p>Name of registration engine for which a default parameter file
is to be read.  If None, use value set for
skrt.core.Default().registration_engine.</p>
</dd>
<dt>idx: int, default=0</dt><dd><p>Index of parameter file to be read, from sorted list of those
matching &lt;pattern&gt;.  To avoid ambiguity, it’s usually best to
choose &lt;pattern&gt; so that only one file is matched.  A list
of matching files can be obtained using get_default_pfiles().</p>
</dd>
<dt>params: dict, default=None</dt><dd><p>Dictionary of parameter-value pairs, with which to update dictionary
read from file.  Ignored if None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.prepend_path">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">prepend_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_must_exist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.prepend_path" title="Permalink to this definition"></a></dt>
<dd><p>Prepend path to environment variable.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>variable<span class="classifier">str</span></dt><dd><p>Environment variable to which path is to be prepended.</p>
</dd>
<dt>path<span class="classifier">str</span></dt><dd><p>Path to be prepended.</p>
</dd>
<dt>path_must_exist<span class="classifier">bool, default=True</span></dt><dd><p>If True, only append path if it exists.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.read_parameters">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">read_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.read_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Get dictionary of parameters from a registration parameter file.</p>
<p><strong>Parameters:</strong>
infile: str, pathlib.Path</p>
<blockquote>
<div><p>Path fo registration parameter file.</p>
</div></blockquote>
<dl class="simple">
<dt>engine: str, default=None</dt><dd><p>String identifying registration engine, corresponding to
a key of the dictionary skrt.registration.engines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.set_elastix_dir">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">set_elastix_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.set_elastix_dir" title="Permalink to this definition"></a></dt>
<dd><p>Perform environment setup for using elastix software.</p>
<p>Function deprecated - use set_engine_dir()</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>path<span class="classifier">str/pathlib.Path, default=None</span></dt><dd><p>Path to directory containing elastix software.</p>
</dd>
<dt>force<span class="classifier">bool, default=True</span></dt><dd><p>If False, modify environment based on &lt;path&gt; only if elastix software
can’t be located in the existing environment.  If True, modify
environment based on &lt;path&gt; in all cases.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.set_engine_dir">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">set_engine_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.set_engine_dir" title="Permalink to this definition"></a></dt>
<dd><p>Perform environment setup for using registration software.</p>
<dl class="simple">
<dt>path<span class="classifier">str/pathlib.Path, default=None</span></dt><dd><p>Path to directory containing registration software.</p>
</dd>
<dt>engine<span class="classifier">str, default=None</span></dt><dd><p>Name identifying the registration engine for which
environment setup is to be performed.  This should correspond
to a key of the dictionary skrt.registration.engines.</p>
</dd>
<dt>force<span class="classifier">bool, default=True</span></dt><dd><p>If False, modify environment based on &lt;path&gt; only if registration
software can’t be located in the existing environment.  If True, modify
environment based on &lt;path&gt; in all cases.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.shift_translation_parameters">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">shift_translation_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.shift_translation_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Add offsets to the translation parameters in a registration transform file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>infile: str</dt><dd><p>Path to input parameter file.</p>
</dd>
<dt>dx, dy, dz: int, default=0</dt><dd><p>Amounts by which to increase translation parameters, along
x, y, z directions.</p>
</dd>
<dt>outfile: str, default=None</dt><dd><p>Path to output parameter file.  If None, overwrite input parameter file.</p>
</dd>
<dt>engine: str, default=None</dt><dd><p>String identifying registration engine, corresponding to
a key of the dictionary skrt.registration.engines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skrt.registration.write_parameters">
<span class="sig-prename descclassname"><span class="pre">skrt.registration.</span></span><span class="sig-name descname"><span class="pre">write_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skrt.registration.write_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Write dictionary of parameters to a registration parameter file.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>outfile: str</dt><dd><p>Path to output file.</p>
</dd>
<dt>params: dict</dt><dd><p>Dictionary of parameters to be written to file.</p>
</dd>
<dt>engine: str, default=None</dt><dd><p>String identifying registration engine, corresponding to
a key of the dictionary skrt.registration.engines.</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="skrt.patient.html" class="btn btn-neutral float-left" title="skrt.patient module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="skrt.segmentation.html" class="btn btn-neutral float-right" title="skrt.segmentation module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>